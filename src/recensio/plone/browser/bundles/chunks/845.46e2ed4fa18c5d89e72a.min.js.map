{"version":3,"file":"chunks/845.46e2ed4fa18c5d89e72a.min.js","mappings":"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","sources":["webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/mockup-parser.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/base.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/dom.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/events.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/jquery-ext.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/logging.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/parser.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/registry.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/store.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/utils.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/core/basepattern.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/pat/ajax/ajax.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/pat/inject/inject.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/pat/collapsible/collapsible.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/pat/gallery/gallery.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/pat/switch/switch.js","webpack://recensio.plone/./node_modules/@patternslib/patternslib/src/pat/toggle/toggle.js"],"sourcesContent":["import $ from \"jquery\";\n\nvar parser = {\n    getOptions($el, patternName, options) {\n        /* This is the Mockup parser. An alternative parser for Patternslib\n         * patterns.\n         *\n         * NOTE: Use of the Mockup parser is discouraged and is added here for\n         * legacy support for the Plone Mockup project.\n         *\n         * It parses a DOM element for pattern configuration options.\n         */\n        options = options || {};\n        // get options from parent element first, stop if element tag name is 'body'\n        if ($el.length !== 0 && !$.nodeName($el[0], \"body\")) {\n            options = this.getOptions($el.parent(), patternName, options);\n        }\n        // collect all options from element\n        let elOptions = {};\n        if ($el.length !== 0) {\n            elOptions = $el.data(\"pat-\" + patternName);\n            if (elOptions) {\n                // parse options if string\n                if (typeof elOptions === \"string\") {\n                    const tmpOptions = {};\n                    $.each(elOptions.split(\";\"), function (i, item) {\n                        item = item.split(\":\");\n                        item.reverse();\n                        let key = item.pop();\n                        key = key.replace(/^\\s+|\\s+$/g, \"\"); // trim\n                        item.reverse();\n                        let value = item.join(\":\");\n                        value = value.replace(/^\\s+|\\s+$/g, \"\"); // trim\n                        tmpOptions[key] = value;\n                    });\n                    elOptions = tmpOptions;\n                }\n            }\n        }\n        return $.extend(true, {}, options, elOptions);\n    },\n};\n\nexport default parser;\n","/**\n * A Base pattern for creating scoped patterns. It's similar to Backbone's\n * Model class. The advantage of this approach is that each instance of a\n * pattern has its own local scope (closure).\n *\n * A new instance is created for each DOM element on which a pattern applies.\n *\n * You can assign values, such as $el, to `this` for an instance and they\n * will remain unique to that instance.\n *\n * Older Patternslib patterns on the other hand have a single global scope for\n * all DOM elements.\n */\nimport $ from \"jquery\";\nimport Registry from \"./registry\";\nimport logging from \"./logging\";\nimport mockupParser from \"./mockup-parser\";\n\nconst log = logging.getLogger(\"Patternslib Base\");\n\nconst initBasePattern = function ($el, options, trigger) {\n    if (!$el.jquery) {\n        $el = $($el);\n    }\n    const name = this.prototype.name;\n    const plog = logging.getLogger(`pat.${name}`);\n    let pattern = $el.data(`pattern-${name}`);\n    if (pattern === undefined && Registry.patterns[name]) {\n        try {\n            // Immediately set the pattern instance to the temporary value\n            // ``initializing`` before the async Base constructor is setting\n            // the value later.\n            // This prevents re-init the pattern on this element on multiple\n            // initialization calls..\n            $el.data(`pattern-${name}`, \"initializing\");\n            options =\n                this.prototype.parser === \"mockup\"\n                    ? mockupParser.getOptions($el, name, options)\n                    : options;\n            pattern = new Registry.patterns[name]($el, options, trigger);\n        } catch (e) {\n            plog.error(`Failed while initializing ${name} pattern.`, e);\n        }\n    }\n    return pattern;\n};\n\nconst Base = async function ($el, options, trigger) {\n    if (($el?.jquery && $el.length === 0) || !$el) {\n        log.warn(\"No element given to pattern.\");\n        return;\n    }\n    if (!$el.jquery) {\n        $el = $($el);\n    }\n    this.$el = $el;\n    this.el = $el[0];\n    this.options = $.extend(true, {}, this.defaults || {}, options || {});\n    await this.init($el, options, trigger);\n\n    // Store pattern instance on element\n    this.$el.data(`pattern-${this.name}`, this);\n    this.el[`pattern-${this.name}`] = this;\n\n    this.emit(\"init\");\n};\n\nBase.prototype = {\n    constructor: Base,\n    on(eventName, eventCallback) {\n        this.$el.on(`${eventName}.${this.name}.patterns`, eventCallback);\n    },\n    one(eventName, eventCallback) {\n        this.$el.one(`${eventName}.${this.name}.patterns`, eventCallback);\n    },\n    emit(eventName, args) {\n        // args should be a list\n        if (args === undefined) {\n            args = [];\n        }\n        this.$el.trigger(`${eventName}.${this.name}.patterns`, args);\n    },\n};\n\nBase.extend = function (patternProps) {\n    /* Helper function to correctly set up the prototype chain for new patterns.\n     */\n    const parent = this;\n    let child;\n\n    // Check that the required configuration properties are given.\n    if (!patternProps) {\n        throw new Error(\n            \"Pattern configuration properties required when calling Base.extend\"\n        );\n    }\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (Object.hasOwnProperty.call(patternProps, \"constructor\")) {\n        child = patternProps.constructor;\n    } else {\n        child = function () {\n            parent.apply(this, arguments);\n        };\n    }\n\n    // Allow patterns to be extended indefinitely\n    child.extend = Base.extend;\n\n    // Static properties required by the Patternslib registry\n    child.init = initBasePattern;\n    child.jquery_plugin = true;\n    child.trigger = patternProps.trigger;\n    child.parser = patternProps?.parser || null;\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function () {\n        this.constructor = child;\n    };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate();\n\n    // Add pattern's configuration properties (instance properties) to the subclass,\n    $.extend(true, child.prototype, patternProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    // Register the pattern in the Patternslib registry.\n    if (!patternProps.name) {\n        log.warn(\"This pattern without a name attribute will not be registered!\");\n    } else if (!patternProps.trigger) {\n        log.warn(\n            `The pattern ${patternProps.name} does not have a trigger attribute, it will not be registered.`\n        );\n    } else if (patternProps.autoregister !== false) {\n        Registry.register(child, patternProps.name);\n    }\n    return child;\n};\n\nexport default Base;\n","/* Utilities for DOM traversal or navigation */\nimport events from \"./events\";\nimport logging from \"./logging\";\n\nconst logger = logging.getLogger(\"core dom\");\n\nconst DATA_PREFIX = \"__patternslib__data_prefix__\";\nconst DATA_STYLE_DISPLAY = \"__patternslib__style__display\";\n\n/**\n * Return an array of DOM nodes.\n *\n * @param {Node|NodeList|jQuery} nodes - The DOM node to start the search from.\n *\n * @returns {Array} - An array of DOM nodes.\n */\nconst toNodeArray = (nodes) => {\n    if (nodes.jquery || nodes instanceof NodeList) {\n        // jQuery or document.querySelectorAll\n        nodes = [...nodes];\n    } else if (nodes instanceof Array === false) {\n        nodes = [nodes];\n    }\n    return nodes;\n};\n\n/**\n * Like querySelectorAll but including the element where it starts from.\n * Returns an Array, not a NodeList\n *\n * @param {Node} el - The DOM node to start the search from.\n *\n * @returns {Array} - The DOM nodes found.\n */\nconst querySelectorAllAndMe = (el, selector) => {\n    if (!el) {\n        return [];\n    }\n\n    const all = [...el.querySelectorAll(selector)];\n    if (el.matches(selector)) {\n        all.unshift(el); // start element should be first.\n    }\n    return all;\n};\n\n/**\n * Wrap a element with a wrapper element.\n *\n * @param {Node} el - The DOM node to wrap.\n */\nconst wrap = (el, wrapper) => {\n    // See: https://stackoverflow.com/a/13169465/1337474\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n};\n\n/**\n * Hides the element with ``display: none`` and stores the current display value.\n *\n * @param {Node} el - The DOM node to hide.\n */\nconst hide = (el) => {\n    if (el.style.display === \"none\") {\n        // Nothing to do.\n        return;\n    }\n    if (el.style.display) {\n        el[DATA_STYLE_DISPLAY] = el.style.display;\n    }\n    el.style.display = \"none\";\n};\n\n/**\n * Shows element by removing ``display: none`` and restoring the display value\n * to whatever it was before.\n *\n * @param {Node} el - The DOM node to show.\n */\nconst show = (el) => {\n    const val = el[DATA_STYLE_DISPLAY] || null;\n    el.style.display = val;\n    delete el[DATA_STYLE_DISPLAY];\n};\n\n/**\n * Test, if a element is visible or not.\n *\n * @param {Node} el - The DOM node to test.\n * @returns {Boolean} - True if the element is visible.\n */\nconst is_visible = (el) => {\n    // Check, if element is visible in DOM.\n    // https://stackoverflow.com/a/19808107/1337474\n    return el.offsetWidth > 0 && el.offsetHeight > 0;\n};\n\n/**\n * Test, if a element is a input-type element.\n *\n * This is taken from Sizzle/jQuery at:\n * https://github.com/jquery/sizzle/blob/f2a2412e5e8a5d9edf168ae3b6633ac8e6bd9f2e/src/sizzle.js#L139\n * https://github.com/jquery/sizzle/blob/f2a2412e5e8a5d9edf168ae3b6633ac8e6bd9f2e/src/sizzle.js#L1773\n *\n * @param {Node} el - The DOM node to test.\n * @returns {Boolean} - True if the element is a input-type element.\n */\nconst is_input = (el) => {\n    const re_input = /^(?:input|select|textarea|button)$/i;\n    return re_input.test(el.nodeName);\n};\n\n/**\n * Return all direct parents of ``el`` matching ``selector``.\n * This matches against all parents but not the element itself.\n * The order of elements is from the search starting point up to higher\n * DOM levels.\n *\n * @param {Node} el - The DOM node to start the search from.\n * @param {String} selector - CSS selector to match against.\n * @returns {Array} - List of matching DOM nodes.\n */\nconst find_parents = (el, selector) => {\n    const ret = [];\n    let parent = el;\n    while (parent) {\n        parent = parent.parentNode?.closest?.(selector);\n        if (parent) ret.push(parent);\n    }\n    return ret;\n};\n\n/**\n * Find an element in the whole DOM tree if the selector is an ID selector,\n * otherwise use the given element as the starting point.\n *\n * @param {Node} el - The DOM node to start the search from.\n * @param {String} selector - The CSS selector to search for.\n *\n * @returns {NodeList} - The DOM nodes found.\n *\n */\nconst find_scoped = (el, selector) => {\n    // If the selector starts with an object id do a global search,\n    // otherwise do a local search.\n    return (selector.indexOf(\"#\") === 0 ? document : el).querySelectorAll(selector);\n};\n\n/**\n * Return all HTMLElement parents of el, starting from the direct parent of el.\n * The document itself is excluded because it's not a real DOM node.\n *\n * @param {Node} el - The DOM node to start the search from.\n *\n * @returns {Array} - The DOM nodes found.\n */\nconst get_parents = (el) => {\n    // Return all HTMLElement parents of el, starting from the direct parent of el.\n    const parents = [];\n    let parent = el?.parentNode;\n    while (parent) {\n        parents.push(parent);\n        parent = parent?.parentNode;\n        parent = parent instanceof HTMLElement ? parent : null;\n    }\n    return parents;\n};\n\n/**\n * Return the value of the first attribute found in the list of parents.\n *\n * @param {DOM element} el - The DOM element to start the acquisition search for the given attribute.\n * @param {string} attribute - Name of the attribute to search for.\n * @param {Boolean} include_empty - Also return empty values.\n * @param {Boolean} include_all - Return a list of attribute values found in all parents.\n *\n * @returns {*} - Returns the value of the searched attribute or a list of all attributes.\n */\nconst acquire_attribute = (\n    el,\n    attribute,\n    include_empty = false,\n    include_all = false\n) => {\n    let _el = el;\n    const ret = []; // array for ``include_all`` mode.\n    while (_el) {\n        const val = _el.getAttribute(attribute);\n        if (val || (include_empty && val === \"\")) {\n            if (!include_all) {\n                return val;\n            }\n            ret.push(val);\n        }\n        _el = _el.parentElement;\n    }\n    if (include_all) {\n        return ret;\n    }\n};\n\n/**\n * Return a DocumentFragment from a given string.\n *\n * @param {String} string - The HTML structure as a string.\n *\n * @returns {DocumentFragment} - The DOM nodes as a DocumentFragment.\n */\nconst create_from_string = (string) => {\n    // See: https://davidwalsh.name/convert-html-stings-dom-nodes\n    return document.createRange().createContextualFragment(string.trim());\n};\n\n/**\n * Return a CSS property value for a given DOM node.\n * For length-values, relative values are converted to pixels.\n * Optionally parse as pixels, if applicable.\n *\n * Note: The element must be attached to the body to make CSS caluclations work.\n *\n * @param {Node} el - DOM node.\n * @param {String} property - CSS property to query on DOM node.\n * @param {Boolean} [as_pixels=false] - Convert value to pixels, if applicable.\n * @param {Boolean} [as_float=false] - Convert value to float, if applicable.\n *\n * @returns {(String|Number)} - The CSS value to return.\n */\nfunction get_css_value(el, property, as_pixels = false, as_float = false) {\n    let value = window.getComputedStyle(el).getPropertyValue(property);\n    if (as_pixels || as_float) {\n        value = parseFloat(value) || 0.0;\n    }\n    if (as_pixels && !as_float) {\n        value = parseInt(Math.round(value), 10);\n    }\n    return value;\n}\n\n/**\n * Find a scrollable element up in the DOM tree.\n *\n * Note: Setting the ``overflow`` shorthand property also sets the individual overflow-y and overflow-y properties.\n *\n * @param {Node} el - The DOM element to start the search on.\n * @param {String} [direction=] - Not given: Search for any scrollable element up in the DOM tree.\n *                                ``x``: Search for a horizontally scrollable element.\n *                                ``y``: Search for a vertically scrollable element.\n * @param {(DOM Node|null)} [fallback=document.body] - Fallback, if no scroll container can be found.\n *                                                     The default is to use document.body.\n *\n * @returns {Node} - Return the first scrollable element.\n *                   If no other element could be found, document.body would be returned.\n */\nconst find_scroll_container = (el, direction, fallback = document.body) => {\n    while (el && el !== document.body) {\n        if (!direction || direction === \"y\") {\n            let overflow_y = get_css_value(el, \"overflow-y\");\n            if ([\"auto\", \"scroll\"].includes(overflow_y)) {\n                return el;\n            }\n        }\n        if (!direction || direction === \"x\") {\n            let overflow_x = get_css_value(el, \"overflow-x\");\n            if ([\"auto\", \"scroll\"].includes(overflow_x)) {\n                return el;\n            }\n        }\n        el = el.parentElement;\n    }\n    return fallback;\n};\n\n/**\n * Get data stored directly on the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node from which we want to retrieve the data.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n * @param default_value {Any} - Optional default value.\n * @returns {Any} - The value which is stored on the DOM node.\n */\nconst get_data = (el, name, default_value) => {\n    return el[`${DATA_PREFIX}${name}`] || default_value;\n};\n\n/**\n * Set and store data directly on the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node which we want to store the data on.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n * @param value {Any} - The value we want to store on the DOM node.\n */\nconst set_data = (el, name, value) => {\n    el[`${DATA_PREFIX}${name}`] = value;\n};\n\n/**\n * Delete a variable from the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node which we want to delete the variable from.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n */\nconst delete_data = (el, name) => {\n    delete el[`${DATA_PREFIX}${name}`];\n};\n\n/**\n * Simple template engine, based on JS template literal\n *\n * NOTE: This uses eval and would break if Content-Security-Policy does not\n *       allow 'unsafe-eval'.\n *       Because of this CSR problem the use of this method is not recommended.\n *\n * Please note: You cannot pass a template literal as template_string.\n * JavaScript itself would try to expand it and would fail.\n *\n * See: https://stackoverflow.com/a/37217166/1337474\n *\n * @param {String} template_string - The template string as a JavaScript template literal.\n *                                   For each variable in the template you have to use ``this``.\n *                                   E.g. if you pass ``{message: \"ok\"}`` as template_variables, you can use it like so:\n *                                   `<h1>${this.message}</h1>`\n * @param {Object} template_variables - Object literal with all the variables which should be used in the template.\n *\n * @returns {String} - Returns the a string as template expanded with the template_variables.\n */\nconst template = (template_string, template_variables = {}) => {\n    logger.warn(\n        \"Using dom.template is not recommended due to a problem with Content-Security-Policy.\"\n    );\n    return new Function(\"return `\" + template_string + \"`;\").call(template_variables);\n};\n\nconst dom = {\n    toNodeArray: toNodeArray,\n    querySelectorAllAndMe: querySelectorAllAndMe,\n    wrap: wrap,\n    hide: hide,\n    show: show,\n    find_parents: find_parents,\n    find_scoped: find_scoped,\n    get_parents: get_parents,\n    acquire_attribute: acquire_attribute,\n    is_visible: is_visible,\n    is_input: is_input,\n    create_from_string: create_from_string,\n    get_css_value: get_css_value,\n    find_scroll_container: find_scroll_container,\n    get_data: get_data,\n    set_data: set_data,\n    delete_data: delete_data,\n    template: template,\n    add_event_listener: events.add_event_listener, // BBB export. TODO: Remove in an upcoming version.\n    remove_event_listener: events.remove_event_listener, // BBB export. TODO: Remove in an upcoming version.\n};\n\nexport default dom;\n","// Event related methods and event factories\n\n// Event listener registration for easy-to-remove event listeners.\n// once Safari supports the ``signal`` option for addEventListener we can abort\n// event handlers by calling AbortController.abort().\nexport const event_listener_map = {};\n\n/**\n * Add an event listener to a DOM element under a unique id.\n * If a event is registered under the same id for the same element, the old handler is removed first.\n *\n * @param {DOM Node} el - The element to register the event for.\n * @param {string} event_type - The event type to listen for.\n * @param {string} id - A unique id under which the event is registered.\n * @param {function} cb - The event handler / callback function.\n * @param {Object} opts - Options for the addEventListener API.\n *\n */\nconst add_event_listener = (el, event_type, id, cb, opts = {}) => {\n    if (!el?.addEventListener) {\n        return; // nothing to do.\n    }\n    remove_event_listener(el, id); // do not register one listener twice.\n\n    // Create event_listener_map entry if not existent.\n    if (!event_listener_map[el]) {\n        event_listener_map[el] = {};\n    }\n    let _cb = cb;\n    if (opts?.once === true) {\n        // For `once` events, also remove the entry from the event_listener_map.\n        _cb = (e) => {\n            delete event_listener_map[el][id];\n            cb(e);\n        };\n    }\n    // Only `capture` option is necessary for `removeEventListener`.\n    event_listener_map[el][id] = [event_type, _cb, opts.capture ? opts : undefined];\n    el.addEventListener(event_type, _cb, opts);\n};\n\n/**\n * Remove an event listener from a DOM element under a unique id.\n *\n * @param {DOM Node} el - The element to register the event for.\n * @param {string} id - A unique id under which the event is registered.\n *\n */\nconst remove_event_listener = (el, id) => {\n    if (!el?.removeEventListener) {\n        return; // nothing to do.\n    }\n    const el_events = event_listener_map[el];\n    if (!el_events) {\n        return;\n    }\n    let entries;\n    if (id) {\n        // remove event listener with specific id\n        const entry = el_events[id];\n        entries = entry ? [entry] : [];\n    } else {\n        // remove all event listeners of element\n        entries = Object.entries(el_events);\n    }\n    for (const entry of entries || []) {\n        el.removeEventListener(entry[0], entry[1], entry[2]);\n    }\n};\n\n/**\n * Await an event to be thrown.\n *\n * Usage:\n *     await events.await_event(button, \"click\");\n *\n * @param {DOM Node} el - The element to listen on.\n * @param {String} event_name - The event name to listen for.\n *\n * @returns {Promise} - Returns a Promise which can be used for ``await`` and which will be resolved when the event is throwm.\n *\n */\nconst await_event = (el, event_name) => {\n    // See: https://stackoverflow.com/a/44746691/1337474\n    return new Promise((resolve) =>\n        el.addEventListener(event_name, resolve, { once: true })\n    );\n};\n\n/**\n * Await pattern init.\n *\n * Usage:\n *     await events.await_pattern_init(PATTERN);\n *\n * @param {Pattern instance} pattern - The pattern instance.\n *\n * @returns {Promise} - Returns a Promise which can be used for ``await`` and which will be resolved when the event is throwm.\n *\n */\nconst await_pattern_init = (pattern) => {\n    // See: https://stackoverflow.com/a/44746691/1337474\n    return new Promise((resolve, reject) => {\n        // Case initialized\n        pattern.one(\"init\", (e) => {\n            if (e.target !== pattern.el) {\n                // Don't handle bubbling init events from child elements. We\n                // want to check on init events coming directly from this\n                // Pattern's element.\n                return;\n            }\n            // Resolve promise and unregister the not-init event handler.\n            remove_event_listener(\n                pattern.el,\n                `basepattern-one--not-init.${pattern.name}.patterns`\n            );\n            resolve();\n        });\n\n        // Case not initialized\n        pattern.one(\"not-init\", (e) => {\n            if (e.target !== pattern.el) {\n                // Don't handle bubbling not-init events from child elements.\n                // We want to check on not-init events coming directly from\n                // this Pattern's element.\n                return;\n            }\n            // Reject promise and unregister the init event handler.\n            remove_event_listener(\n                pattern.el,\n                `basepattern-one--init.${pattern.name}.patterns`\n            );\n            reject();\n        });\n    }).catch(() => {\n        throw new Error(`Pattern \"${pattern.name}\" not initialized.`);\n    });\n};\n\n/**\n * Event factories\n */\n\nconst blur_event = () => {\n    return new Event(\"blur\", {\n        bubbles: false,\n        cancelable: false,\n    });\n};\n\nconst click_event = () => {\n    return new Event(\"click\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst change_event = () => {\n    return new Event(\"change\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst focus_event = () => {\n    return new Event(\"focus\", {\n        bubbles: false,\n        cancelable: false,\n    });\n};\n\nconst input_event = () => {\n    return new Event(\"input\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst mousedown_event = () => {\n    return new Event(\"mousedown\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst mouseup_event = () => {\n    return new Event(\"mouseup\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst scroll_event = () => {\n    return new Event(\"scroll\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst submit_event = () => {\n    return new Event(\"submit\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst dragstart_event = () => {\n    return new Event(\"dragstart\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst dragend_event = () => {\n    return new Event(\"dragend\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nexport default {\n    add_event_listener: add_event_listener,\n    remove_event_listener: remove_event_listener,\n    await_event: await_event,\n    await_pattern_init: await_pattern_init,\n    blur_event: blur_event,\n    click_event: click_event,\n    change_event: change_event,\n    focus_event: focus_event,\n    input_event: input_event,\n    mousedown_event: mousedown_event,\n    mouseup_event: mouseup_event,\n    scroll_event: scroll_event,\n    submit_event: submit_event,\n    dragstart_event: dragstart_event,\n    dragend_event: dragend_event,\n};\n","/**\n * @license\n * Patterns @VERSION@ jquery-ext - various jQuery extensions\n *\n * Copyright 2011 Humberto Sermeo\n */\n\nimport $ from \"jquery\";\n\nvar methods = {\n    init: function (options) {\n        var settings = {\n            time: 3 /* time it will wait before moving to \"timeout\" after a move event */,\n            initialTime: 8 /* time it will wait before first adding the \"timeout\" class */,\n            exceptionAreas: [] /* IDs of elements that, if the mouse is over them, will reset the timer */,\n        };\n        return this.each(function () {\n            var $this = $(this),\n                data = $this.data(\"timeout\");\n\n            if (!data) {\n                if (options) {\n                    $.extend(settings, options);\n                }\n                $this.data(\"timeout\", {\n                    lastEvent: new Date(),\n                    trueTime: settings.time,\n                    time: settings.initialTime,\n                    untouched: true,\n                    inExceptionArea: false,\n                });\n\n                $this.on(\"mouseover.timeout\", methods.mouseMoved);\n                $this.on(\"mouseenter.timeout\", methods.mouseMoved);\n\n                $(settings.exceptionAreas).each(function () {\n                    $this\n                        .find(this)\n                        .live(\n                            \"mouseover.timeout\",\n                            { parent: $this },\n                            methods.enteredException\n                        )\n                        .live(\n                            \"mouseleave.timeout\",\n                            { parent: $this },\n                            methods.leftException\n                        );\n                });\n\n                if (settings.initialTime > 0) $this.timeout(\"startTimer\");\n                else $this.addClass(\"timeout\");\n            }\n        });\n    },\n\n    enteredException: function (event) {\n        var data = event.data.parent.data(\"timeout\");\n        data.inExceptionArea = true;\n        event.data.parent.data(\"timeout\", data);\n        event.data.parent.trigger(\"mouseover\");\n    },\n\n    leftException: function (event) {\n        var data = event.data.parent.data(\"timeout\");\n        data.inExceptionArea = false;\n        event.data.parent.data(\"timeout\", data);\n    },\n\n    destroy: function () {\n        return this.each(function () {\n            var $this = $(this),\n                data = $this.data(\"timeout\");\n\n            $(window).off(\".timeout\");\n            data.timeout.remove();\n            $this.removeData(\"timeout\");\n        });\n    },\n\n    mouseMoved: function () {\n        var $this = $(this),\n            data = $this.data(\"timeout\");\n\n        if ($this.hasClass(\"timeout\")) {\n            $this.removeClass(\"timeout\");\n            $this.timeout(\"startTimer\");\n        } else if (data.untouched) {\n            data.untouched = false;\n            data.time = data.trueTime;\n        }\n\n        data.lastEvent = new Date();\n        $this.data(\"timeout\", data);\n    },\n\n    startTimer: function () {\n        var $this = $(this),\n            data = $this.data(\"timeout\");\n        var fn = function () {\n            var data = $this.data(\"timeout\");\n            if (data && data.lastEvent) {\n                if (data.inExceptionArea) {\n                    setTimeout(fn, Math.floor(data.time * 1000));\n                } else {\n                    var now = new Date();\n                    var diff = Math.floor(data.time * 1000) - (now - data.lastEvent);\n                    if (diff > 0) {\n                        // the timeout has not ocurred, so set the timeout again\n                        setTimeout(fn, diff + 100);\n                    } else {\n                        // timeout ocurred, so set the class\n                        $this.addClass(\"timeout\");\n                    }\n                }\n            }\n        };\n\n        setTimeout(fn, Math.floor(data.time * 1000));\n    },\n};\n\n$.fn.timeout = function (method) {\n    if (methods[method]) {\n        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    } else if (typeof method === \"object\" || !method) {\n        return methods.init.apply(this, arguments);\n    } else {\n        $.error(\"Method \" + method + \" does not exist on jQuery.timeout\");\n    }\n};\n\n// Custom jQuery selector to find elements with scrollbars\n$.extend($.expr[\":\"], {\n    scrollable: function (element) {\n        var vertically_scrollable, horizontally_scrollable;\n        if (\n            $(element).css(\"overflow\") === \"scroll\" ||\n            $(element).css(\"overflowX\") === \"scroll\" ||\n            $(element).css(\"overflowY\") === \"scroll\"\n        )\n            return true;\n\n        vertically_scrollable =\n            element.clientHeight < element.scrollHeight &&\n            ($.inArray($(element).css(\"overflowY\"), [\"scroll\", \"auto\"]) !== -1 ||\n                $.inArray($(element).css(\"overflow\"), [\"scroll\", \"auto\"]) !== -1);\n\n        if (vertically_scrollable) return true;\n\n        horizontally_scrollable =\n            element.clientWidth < element.scrollWidth &&\n            ($.inArray($(element).css(\"overflowX\"), [\"scroll\", \"auto\"]) !== -1 ||\n                $.inArray($(element).css(\"overflow\"), [\"scroll\", \"auto\"]) !== -1);\n        return horizontally_scrollable;\n    },\n});\n\n// Make Visible in scroll\n$.fn.makeVisibleInScroll = function (parent_id) {\n    var absoluteParent = null;\n    if (typeof parent_id === \"string\") {\n        absoluteParent = $(\"#\" + parent_id);\n    } else if (parent_id) {\n        absoluteParent = $(parent_id);\n    }\n\n    return this.each(function () {\n        var $this = $(this),\n            parent;\n        if (!absoluteParent) {\n            parent = $this.parents(\":scrollable\");\n            if (parent.length > 0) {\n                parent = $(parent[0]);\n            } else {\n                parent = $(window);\n            }\n        } else {\n            parent = absoluteParent;\n        }\n\n        var elemTop = $this.position().top;\n        var elemBottom = $this.height() + elemTop;\n\n        var viewTop = parent.scrollTop();\n        var viewBottom = parent.height() + viewTop;\n\n        if (elemTop < viewTop) {\n            parent.scrollTop(elemTop);\n        } else if (elemBottom > viewBottom - parent.height() / 2) {\n            parent.scrollTop(elemTop - (parent.height() - $this.height()) / 2);\n        }\n    });\n};\n\n//Work around warning for jQuery 3.x:\n//JQMIGRATE: jQuery.fn.offset() requires an element connected to a document\n$.fn.safeOffset = function () {\n    var docElem,\n        elem = this[0],\n        origin = { top: 0, left: 0 };\n\n    if (!elem || !elem.nodeType) {\n        return origin;\n    }\n\n    docElem = (elem.ownerDocument || document).documentElement;\n    if (!$.contains(docElem, elem)) {\n        return origin;\n    }\n\n    return $.fn.offset.apply(this, arguments);\n};\n\n//Make absolute location\n$.fn.setPositionAbsolute = function (element, offsettop, offsetleft) {\n    return this.each(function () {\n        // set absolute location for based on the element passed\n        // dynamically since every browser has different settings\n        var $this = $(this);\n        var thiswidth = $(this).width();\n        var pos = element.safeOffset();\n        var width = element.width();\n        var height = element.height();\n        var setleft = pos.left + width - thiswidth + offsetleft;\n        var settop = pos.top + height + offsettop;\n        $this.css({\n            \"z-index\": 1,\n            \"position\": \"absolute\",\n            \"marginLeft\": 0,\n            \"marginTop\": 0,\n            \"left\": setleft + \"px\",\n            \"top\": settop + \"px\",\n            \"width\": thiswidth,\n        });\n        $this.remove().appendTo(\"body\").show();\n    });\n};\n\n$.fn.positionAncestor = function (selector) {\n    var left = 0;\n    var top = 0;\n    this.each(function () {\n        // check if current element has an ancestor matching a selector\n        // and that ancestor is positioned\n        var $ancestor = $(this).closest(selector);\n        if ($ancestor.length && $ancestor.css(\"position\") !== \"static\") {\n            var $child = $(this);\n            var childMarginEdgeLeft =\n                $child.safeOffset().left - parseInt($child.css(\"marginLeft\"), 10);\n            var childMarginEdgeTop =\n                $child.safeOffset().top - parseInt($child.css(\"marginTop\"), 10);\n            var ancestorPaddingEdgeLeft =\n                $ancestor.safeOffset().left +\n                parseInt($ancestor.css(\"borderLeftWidth\"), 10);\n            var ancestorPaddingEdgeTop =\n                $ancestor.safeOffset().top +\n                parseInt($ancestor.css(\"borderTopWidth\"), 10);\n            left = childMarginEdgeLeft - ancestorPaddingEdgeLeft;\n            top = childMarginEdgeTop - ancestorPaddingEdgeTop;\n            // we have found the ancestor and computed the position\n            // stop iterating\n            return false;\n        }\n    });\n    return {\n        left: left,\n        top: top,\n    };\n};\n\n$.fn.findInclusive = function (selector) {\n    return this.find(\"*\").addBack().filter(selector);\n};\n\n$.fn.slideIn = function (speed, easing, callback) {\n    return this.animate({ width: \"show\" }, speed, easing, callback);\n};\n\n$.fn.slideOut = function (speed, easing, callback) {\n    return this.animate({ width: \"hide\" }, speed, easing, callback);\n};\n\n// case-insensitive :contains\n$.expr[\":\"].Contains = function (a, i, m) {\n    return $(a).text().toUpperCase().indexOf(m[3].toUpperCase()) >= 0;\n};\n\n$.fn.scopedFind = function (selector) {\n    /*  If the selector starts with an object id do a global search,\n     *  otherwise do a local search.\n     */\n    if (selector.indexOf(\"#\") === 0) {\n        return $(selector);\n    } else {\n        return this.find(selector);\n    }\n};\n\nexport default undefined;\n","/**\n * Patterns logging - minimal logging framework\n *\n * Copyright 2012 Simplon B.V.\n */\n\n// source: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== \"function\") {\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\n            throw new TypeError(\n                \"Function.prototype.bind - what is trying to be bound is not callable\"\n            );\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1),\n            fToBind = this,\n            fNOP = function () {},\n            fBound = function () {\n                return fToBind.apply(\n                    this instanceof fNOP && oThis ? this : oThis,\n                    aArgs.concat(Array.prototype.slice.call(arguments))\n                );\n            };\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n\nvar root, // root logger instance\n    writer; // writer instance, used to output log entries\n\nvar Level = {\n    DEBUG: 10,\n    INFO: 20,\n    WARN: 30,\n    ERROR: 40,\n    FATAL: 50,\n};\n\nfunction ConsoleWriter() {}\n\nConsoleWriter.prototype = {\n    output: function (log_name, level, messages) {\n        if (log_name) messages.unshift(log_name + \":\");\n        if (level <= Level.DEBUG) {\n            // console.debug exists but is deprecated\n            messages.unshift(\"[DEBUG]\");\n            console.log.apply(console, messages);\n        } else if (level <= Level.INFO) console.info.apply(console, messages);\n        else if (level <= Level.WARN) console.warn.apply(console, messages);\n        else console.error.apply(console, messages);\n    },\n};\n\nfunction Logger(name, parent) {\n    this._loggers = {};\n    this.name = name || \"\";\n    this._parent = parent || null;\n    if (!parent) {\n        this._enabled = true;\n        this._level = Level.WARN;\n    }\n}\n\nLogger.prototype = {\n    getLogger: function (name) {\n        var path = name.split(\".\"),\n            root = this,\n            route = this.name ? [this.name] : [];\n        while (path.length) {\n            var entry = path.shift();\n            route.push(entry);\n            if (!(entry in root._loggers))\n                root._loggers[entry] = new Logger(route.join(\".\"), root);\n            root = root._loggers[entry];\n        }\n        return root;\n    },\n\n    _getFlag: function (flag) {\n        var context = this;\n        flag = \"_\" + flag;\n        while (context !== null) {\n            if (context[flag] !== undefined) return context[flag];\n            context = context._parent;\n        }\n        return null;\n    },\n\n    setEnabled: function (state) {\n        this._enabled = !!state;\n    },\n\n    isEnabled: function () {\n        this._getFlag(\"enabled\");\n    },\n\n    setLevel: function (level) {\n        if (typeof level === \"number\") this._level = level;\n        else if (typeof level === \"string\") {\n            level = level.toUpperCase();\n            if (level in Level) this._level = Level[level];\n        }\n    },\n\n    getLevel: function () {\n        return this._getFlag(\"level\");\n    },\n\n    log: function (level, messages) {\n        if (\n            !messages.length ||\n            !this._getFlag(\"enabled\") ||\n            level < this._getFlag(\"level\")\n        )\n            return;\n        messages = Array.prototype.slice.call(messages);\n        writer.output(this.name, level, messages);\n    },\n\n    debug: function () {\n        this.log(Level.DEBUG, arguments);\n    },\n\n    info: function () {\n        this.log(Level.INFO, arguments);\n    },\n\n    warn: function () {\n        this.log(Level.WARN, arguments);\n    },\n\n    error: function () {\n        this.log(Level.ERROR, arguments);\n    },\n\n    fatal: function () {\n        this.log(Level.FATAL, arguments);\n    },\n};\n\nfunction getWriter() {\n    return writer;\n}\n\nfunction setWriter(w) {\n    writer = w;\n}\n\nsetWriter(new ConsoleWriter());\n\nroot = new Logger();\n\nvar logconfig = /loglevel(|-[^=]+)=([^&]+)/g,\n    match;\n\nwhile ((match = logconfig.exec(window.location.search)) !== null) {\n    var logger = match[1] === \"\" ? root : root.getLogger(match[1].slice(1));\n    logger.setLevel(match[2].toUpperCase());\n}\n\nvar api = {\n    Level: Level,\n    getLogger: root.getLogger.bind(root),\n    setEnabled: root.setEnabled.bind(root),\n    isEnabled: root.isEnabled.bind(root),\n    setLevel: root.setLevel.bind(root),\n    getLevel: root.getLevel.bind(root),\n    debug: root.debug.bind(root),\n    info: root.info.bind(root),\n    warn: root.warn.bind(root),\n    error: root.error.bind(root),\n    fatal: root.fatal.bind(root),\n    getWriter: getWriter,\n    setWriter: setWriter,\n};\n\nexport default api;\n","// Patterns argument parser\nimport $ from \"jquery\";\nimport utils from \"./utils.js\";\nimport logging from \"./logging\";\n\nclass ArgumentParser {\n    constructor(name) {\n        this.order = [];\n        this.parameters = {};\n        this.attribute = \"data-pat-\" + name;\n        this.enum_values = {};\n        this.enum_conflicts = [];\n        this.groups = {};\n        this.possible_groups = {};\n        this.log = logging.getLogger(name + \".parser\");\n\n        this.group_pattern = /([a-z][a-z0-9]*)-([A-Z][a-z0-0\\-]*)/i;\n        this.json_param_pattern = /^\\s*\\[?\\s*{/i;\n        this.named_param_pattern = /^\\s*([a-z][a-z0-9\\-]*)\\s*:(.*)/is;\n        this.token_pattern = /(([\"']).*?(?!\\\\)\\2)|\\s*(\\S+)\\s*/g;\n    }\n\n    _camelCase(str) {\n        return str.replace(/\\-([a-z])/g, (__, p1) => p1.toUpperCase());\n    }\n\n    addAlias(alias, original) {\n        /* Add an alias for a previously added parser argument.\n         *\n         * Useful when you want to support both US and UK english argument\n         * names.\n         */\n        if (this.parameters[original]) {\n            this.parameters[original].alias = alias;\n        } else {\n            throw (\n                'Attempted to add an alias \"' +\n                alias +\n                '\" for a non-existing parser argument \"' +\n                original +\n                '\".'\n            );\n        }\n    }\n\n    addGroupToSpec(spec) {\n        /* Determine wether an argument being parsed can be grouped and\n         * update its specifications object accordingly.\n         *\n         * Internal method used by addArgument and addJSONArgument\n         */\n        const m = spec.name.match(this.group_pattern);\n        if (m) {\n            const group = m[1];\n            const field = m[2];\n            if (group in this.possible_groups) {\n                const first_spec = this.possible_groups[group];\n                const first_name = first_spec.name.match(this.group_pattern)[2];\n                first_spec.group = group;\n                first_spec.dest = first_name;\n                this.groups[group] = new ArgumentParser();\n                this.groups[group].addArgument(\n                    first_name,\n                    first_spec.value,\n                    first_spec.choices,\n                    first_spec.multiple\n                );\n                delete this.possible_groups[group];\n            }\n            if (group in this.groups) {\n                this.groups[group].addArgument(\n                    field,\n                    spec.value,\n                    spec.choices,\n                    spec.multiple\n                );\n                spec.group = group;\n                spec.dest = field;\n            } else {\n                this.possible_groups[group] = spec;\n                spec.dest = this._camelCase(spec.name);\n            }\n        }\n        return spec;\n    }\n\n    addJSONArgument(name, default_value) {\n        /* Add an argument where the value is provided in JSON format.\n         *\n         * This is a different usecase than specifying all arguments to\n         * the data-pat-... attributes in JSON format, and instead is part\n         * of the normal notation except that a value is in JSON instead of\n         * for example a string.\n         */\n        this.order.push(name);\n        this.parameters[name] = this.addGroupToSpec({\n            name: name,\n            value: default_value,\n            dest: name,\n            group: null,\n            type: \"json\",\n        });\n    }\n\n    addArgument(name, default_value, choices, multiple) {\n        const spec = {\n            name: name,\n            value:\n                multiple && !Array.isArray(default_value)\n                    ? [default_value]\n                    : default_value,\n            multiple: multiple,\n            dest: name,\n            group: null,\n        };\n        if (choices && Array.isArray(choices) && choices.length) {\n            spec.choices = choices;\n            spec.type = this._typeof(choices[0]);\n            for (const choice of choices) {\n                if (this.enum_conflicts.indexOf(choice) !== -1) {\n                    continue;\n                } else if (choice in this.enum_values) {\n                    this.enum_conflicts.push(choice);\n                    delete this.enum_values[choice];\n                } else {\n                    this.enum_values[choice] = name;\n                }\n            }\n        } else if (typeof spec.value === \"string\" && spec.value.slice(0, 1) === \"$\") {\n            spec.type = this.parameters[spec.value.slice(1)].type;\n        } else {\n            // Note that this will get reset by _defaults if default_value is a function.\n            spec.type = this._typeof(multiple ? spec.value[0] : spec.value);\n        }\n        this.order.push(name);\n        this.parameters[name] = this.addGroupToSpec(spec);\n    }\n\n    _typeof(obj) {\n        if (obj === null) {\n            return \"null\";\n        }\n        return typeof obj;\n    }\n\n    _coerce(name, value) {\n        const spec = this.parameters[name];\n        if (typeof value !== spec.type)\n            try {\n                switch (spec.type) {\n                    case \"json\":\n                        value = JSON.parse(value);\n                        break;\n                    case \"boolean\":\n                        if (typeof value === \"string\") {\n                            value = value.toLowerCase();\n                            const num = parseInt(value, 10);\n                            if (!isNaN(num)) value = !!num;\n                            else\n                                value =\n                                    value === \"true\" ||\n                                    value === \"y\" ||\n                                    value === \"yes\" ||\n                                    value === \"y\" ||\n                                    value === \"on\";\n                        } else if (typeof value === \"number\") {\n                            value = !!value;\n                        } else {\n                            throw \"Cannot convert value for \" + name + \" to boolean\";\n                        }\n                        break;\n                    case \"number\":\n                        if (typeof value === \"string\") {\n                            value = parseInt(value, 10);\n                            if (isNaN(value)) {\n                                throw \"Cannot convert value for \" + name + \" to number\";\n                            }\n                        } else if (typeof value === \"boolean\") {\n                            value = value + 0;\n                        } else {\n                            throw \"Cannot convert value for \" + name + \" to number\";\n                        }\n                        break;\n                    case \"string\":\n                        value = value.toString();\n                        break;\n                    case \"null\": // Missing default values\n                    case \"undefined\":\n                        break;\n                    default:\n                        throw (\n                            \"Do not know how to convert value for \" +\n                            name +\n                            \" to \" +\n                            spec.type\n                        );\n                }\n            } catch (e) {\n                this.log.warn(e);\n                return null;\n            }\n\n        if (spec.choices && spec.choices.indexOf(value) === -1) {\n            this.log.warn(\"Illegal value for \" + name + \": \" + value);\n            return null;\n        }\n        return value;\n    }\n\n    _set(opts, name, value) {\n        if (!(name in this.parameters)) {\n            this.log.debug(\"Ignoring value for unknown argument \" + name);\n            return;\n        }\n        const spec = this.parameters[name];\n        let parts;\n        if (spec.multiple) {\n            if (typeof value === \"string\") {\n                parts = value.split(/,+/);\n            } else {\n                parts = value;\n            }\n            value = [];\n            for (const part of parts) {\n                const v = this._coerce(name, part.trim());\n                if (v !== null) {\n                    value.push(v);\n                }\n            }\n        } else {\n            value = this._coerce(name, value);\n            if (value === null) {\n                return;\n            }\n        }\n        opts[name] = value;\n    }\n\n    _split(text) {\n        const tokens = [];\n        text.replace(this.token_pattern, (match, quoted, __, simple) => {\n            if (quoted) {\n                tokens.push(quoted);\n            } else if (simple) {\n                tokens.push(simple);\n            }\n        });\n        return tokens;\n    }\n\n    _parseExtendedNotation(argstring) {\n        const opts = {};\n        const parts = argstring\n            .replace(/;;/g, \"\\0x1f\")\n            .replace(/&amp;/g, \"&amp\\0x1f\")\n            .split(/;/)\n            .map((el) => el.replace(new RegExp(\"\\0x1f\", \"g\"), \";\"));\n        for (const part of parts) {\n            if (!part) {\n                continue;\n            }\n            const matches = part.match(this.named_param_pattern);\n            if (!matches) {\n                this.log.warn(\"Invalid parameter: \" + part + \": \" + argstring);\n                continue;\n            }\n            const name = matches[1];\n            const value = matches[2].trim();\n            const arg = Object.values(this.parameters).filter((it) => it.alias === name);\n\n            const is_alias = arg.length === 1;\n\n            if (is_alias) {\n                this._set(opts, arg[0].name, value);\n            } else if (name in this.parameters) {\n                this._set(opts, name, value);\n            } else if (name in this.groups) {\n                const subopt = this.groups[name]._parseShorthandNotation(value);\n                for (const field in subopt) {\n                    this._set(opts, name + \"-\" + field, subopt[field]);\n                }\n            } else {\n                this.log.warn(\"Unknown named parameter \" + matches[1]);\n                continue;\n            }\n        }\n        return opts;\n    }\n\n    _parseShorthandNotation(parameter) {\n        const parts = this._split(parameter);\n        const opts = {};\n        let i = 0;\n\n        while (parts.length) {\n            const part = parts.shift().trim();\n            let sense;\n            let flag;\n            let positional = true;\n            if (part.slice(0, 3) === \"no-\") {\n                sense = false;\n                flag = part.slice(3);\n            } else {\n                sense = true;\n                flag = part;\n            }\n            if (flag in this.parameters && this.parameters[flag].type === \"boolean\") {\n                positional = false;\n                this._set(opts, flag, sense);\n            } else if (flag in this.enum_values) {\n                positional = false;\n                this._set(opts, this.enum_values[flag], flag);\n            } else if (positional) this._set(opts, this.order[i], part);\n            else {\n                parts.unshift(part);\n                break;\n            }\n            i++;\n            if (i >= this.order.length) {\n                break;\n            }\n        }\n        if (parts.length) this.log.warn(\"Ignore extra arguments: \" + parts.join(\" \"));\n        return opts;\n    }\n\n    _parse(parameter) {\n        if (!parameter) {\n            return {};\n        }\n        if (parameter.match(this.json_param_pattern)) {\n            try {\n                return JSON.parse(parameter);\n            } catch (e) {\n                this.log.warn(\"Invalid JSON argument found: \" + parameter);\n            }\n        }\n        if (parameter.match(this.named_param_pattern)) {\n            return this._parseExtendedNotation(parameter);\n        }\n        const sep = parameter.indexOf(\";\");\n        if (sep === -1) {\n            return this._parseShorthandNotation(parameter);\n        }\n        const opts = this._parseShorthandNotation(parameter.slice(0, sep));\n        const extended = this._parseExtendedNotation(parameter.slice(sep + 1));\n        for (const name in extended) {\n            opts[name] = extended[name];\n        }\n        return opts;\n    }\n\n    _defaults($el) {\n        const result = {};\n        for (const name in this.parameters)\n            if (typeof this.parameters[name].value === \"function\")\n                try {\n                    result[name] = this.parameters[name].value($el, name);\n                    this.parameters[name].type = typeof result[name];\n                } catch (e) {\n                    this.log.error(\"Default function for \" + name + \" failed.\");\n                }\n            else result[name] = this.parameters[name].value;\n        return result;\n    }\n\n    _cleanupOptions(options, group_options = true) {\n        // Resolve references\n        for (const name of Object.keys(options)) {\n            const spec = this.parameters[name];\n            if (spec === undefined) continue;\n\n            if (\n                options[name] === spec.value &&\n                typeof spec.value === \"string\" &&\n                spec.value.slice(0, 1) === \"$\"\n            )\n                options[name] = options[spec.value.slice(1)];\n        }\n        if (group_options) {\n            // Move options into groups and do renames\n            for (const name of Object.keys(options)) {\n                const spec = this.parameters[name];\n                let target;\n                if (spec === undefined) continue;\n\n                if (spec.group) {\n                    if (typeof options[spec.group] !== \"object\")\n                        options[spec.group] = {};\n                    target = options[spec.group];\n                } else {\n                    target = options;\n                }\n\n                if (spec.dest !== name) {\n                    target[spec.dest] = options[name];\n                    delete options[name];\n                }\n            }\n        }\n        return options;\n    }\n\n    parse($el, options, multiple, inherit = true, group_options = true) {\n        if (!$el.jquery) {\n            $el = $($el);\n        }\n        if (typeof options === \"boolean\" && multiple === undefined) {\n            // Fix argument order: ``multiple`` passed instead of ``options``.\n            multiple = options;\n            options = {};\n        }\n        const stack = inherit ? [[this._defaults($el)]] : [[{}]];\n        let $possible_config_providers;\n        let final_length = 1;\n        /*\n         * XXX this is a workaround for:\n         * - https://github.com/Patternslib/Patterns/issues/393\n         *\n         * Prevents the parser to pollute the pat-modal configuration\n         * with data-pat-inject elements define in a `.pat-modal` parent element.\n         *\n         *  Probably this function should be completely revisited, see:\n         * - https://github.com/Patternslib/Patterns/issues/627\n         *\n         */\n        if (\n            !inherit ||\n            ($el.hasClass(\"pat-modal\") && this.attribute === \"data-pat-inject\")\n        ) {\n            $possible_config_providers = $el;\n        } else {\n            $possible_config_providers = $el\n                .parents(\"[\" + this.attribute + \"]\")\n                .addBack();\n        }\n\n        for (const provider of $possible_config_providers) {\n            let frame;\n            const data = ($(provider).attr(this.attribute) || \"\").trim();\n            if (!data) {\n                continue;\n            }\n            const _parse = this._parse.bind(this);\n            if (data.match(/&&/)) {\n                frame = data.split(/\\s*&&\\s*/).map(_parse);\n            } else {\n                frame = _parse(data);\n            }\n            if (!Array.isArray(frame)) {\n                frame = [frame];\n            }\n            final_length = Math.max(frame.length, final_length);\n            stack.push(frame);\n        }\n\n        if (typeof options === \"object\") {\n            if (Array.isArray(options)) {\n                stack.push(options);\n                final_length = Math.max(options.length, final_length);\n            } else {\n                stack.push([options]);\n            }\n        }\n        if (!multiple) {\n            final_length = 1;\n        }\n        const results = utils\n            .removeDuplicateObjects(utils.mergeStack(stack, final_length))\n            .map((current_value) => this._cleanupOptions(current_value, group_options));\n        return multiple ? results : results[0];\n    }\n}\n\n// BBB\nArgumentParser.prototype.add_argument = ArgumentParser.prototype.addArgument;\n\nexport default ArgumentParser;\n","/**\n * Patterns registry - Central registry and scan logic for patterns\n *\n * Copyright 2012-2013 Simplon B.V.\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2013 Marko Durkovic\n * Copyright 2013 Rok Garbas\n * Copyright 2014-2015 Syslab.com GmBH, JC Brand\n */\n\n/*\n * changes to previous patterns.register/scan mechanism\n * - if you want initialised class, do it in init\n * - init returns set of elements actually initialised\n * - handle once within init\n * - no turnstile anymore\n * - set pattern.jquery_plugin if you want it\n */\nimport $ from \"jquery\";\nimport dom from \"./dom\";\nimport logging from \"./logging\";\nimport utils from \"./utils\";\n\nconst log = logging.getLogger(\"registry\");\nconst disable_re = /patterns-disable=([^&]+)/g;\nconst dont_catch_re = /patterns-dont-catch/g;\nconst disabled = {};\nlet dont_catch = false;\nlet match;\n\nwhile ((match = disable_re.exec(window.location.search)) !== null) {\n    disabled[match[1]] = true;\n    log.info(\"Pattern disabled via url config:\", match[1]);\n}\n\nwhile ((match = dont_catch_re.exec(window.location.search)) !== null) {\n    dont_catch = true;\n    log.info(\"I will not catch init exceptions\");\n}\n\n/**\n * Global pattern registry.\n *\n * This is a singleton and shared among any instance of the Patternslib\n * registry since Patternslib version 8.\n *\n * You normally don't need this as the registry handles it for you.\n */\nif (typeof window.__patternslib_registry === \"undefined\") {\n    window.__patternslib_registry = {};\n}\nexport const PATTERN_REGISTRY = window.__patternslib_registry;\nif (typeof window.__patternslib_registry_initialized === \"undefined\") {\n    window.__patternslib_registry_initialized = false;\n}\n\nconst registry = {\n    patterns: PATTERN_REGISTRY, // reference to global patterns registry\n    // as long as the registry is not initialized, pattern\n    // registration just registers a pattern. Once init is called,\n    // the DOM is scanned. After that registering a new pattern\n    // results in rescanning the DOM only for this pattern.\n    init() {\n        $(document).ready(function () {\n            if (window.__patternslib_registry_initialized) {\n                // Do not reinitialize a already initialized registry.\n                return;\n            }\n            window.__patternslib_registry_initialized = true;\n            log.debug(\"Loaded: \" + Object.keys(registry.patterns).sort().join(\", \"));\n            registry.scan(document.body);\n            log.debug(\"Finished initial scan.\");\n        });\n    },\n\n    clear() {\n        // Removes all patterns from the registry. Currently only being\n        // used in tests.\n        for (const name in registry.patterns) {\n            delete registry.patterns[name];\n        }\n    },\n\n    transformPattern(name, content) {\n        /* Call the transform method on the pattern with the given name, if\n         * it exists.\n         */\n        if (disabled[name]) {\n            log.debug(`Skipping disabled pattern: ${name}.`);\n            return;\n        }\n\n        const pattern = registry.patterns[name];\n        const transform = pattern.transform || pattern.prototype?.transform;\n        if (transform) {\n            try {\n                transform($(content));\n            } catch (e) {\n                if (dont_catch) {\n                    throw e;\n                }\n                log.error(`Transform error for pattern ${name}.`, e);\n            }\n        }\n    },\n\n    initPattern(name, el, trigger) {\n        /* Initialize the pattern with the provided name and in the context\n         * of the passed in DOM element.\n         */\n        const $el = $(el);\n        const pattern = registry.patterns[name];\n        const plog = logging.getLogger(`pat.${name}`);\n        if (el.matches(pattern.trigger)) {\n            plog.debug(\"Initialising.\", el);\n            try {\n                if (pattern.init) {\n                    // old style initialisation\n                    pattern.init($el, null, trigger);\n                } else {\n                    // class based pattern initialisation\n                    new pattern($el, null, trigger);\n                }\n\n                plog.debug(\"done.\");\n            } catch (e) {\n                if (dont_catch) {\n                    throw e;\n                }\n                plog.error(\"Caught error:\", e);\n            }\n        }\n    },\n\n    orderPatterns(patterns) {\n        // Always add pat-validation as first pattern, so that it can prevent\n        // other patterns from reacting to submit events if form validation\n        // fails.\n        if (patterns.includes(\"validation\")) {\n            patterns.splice(patterns.indexOf(\"validation\"), 1);\n            patterns.unshift(\"validation\");\n        }\n        // Add clone-code to the very beginning - we want to copy the markup\n        // before any other patterns changed the markup.\n        if (patterns.includes(\"clone-code\")) {\n            patterns.splice(patterns.indexOf(\"clone-code\"), 1);\n            patterns.unshift(\"clone-code\");\n        }\n\n        return patterns;\n    },\n\n    scan(content, patterns, trigger) {\n        if (!content) {\n            return;\n        }\n\n        if (typeof content === \"string\") {\n            content = document.querySelector(content);\n        } else if (content instanceof Text) {\n            // No need to scan a TextNode.\n            return;\n        } else if (content.jquery) {\n            content = content[0];\n        }\n\n        const selectors = [];\n        patterns = this.orderPatterns(patterns || Object.keys(registry.patterns));\n        for (const name of patterns) {\n            this.transformPattern(name, content);\n            const pattern = registry.patterns[name];\n            if (pattern.trigger) {\n                selectors.unshift(pattern.trigger);\n            }\n        }\n\n        let matches = dom.querySelectorAllAndMe(\n            content,\n            selectors.map((it) => it.trim().replace(/,$/, \"\")).join(\",\")\n        );\n        matches = matches.filter((el) => {\n            // Filter out patterns:\n            // - with class ``.disable-patterns``\n            // - wrapped in ``.disable-patterns`` elements\n            // - wrapped in ``<pre>`` elements\n            // - wrapped in ``<template>`` elements\n            return (\n                !el.matches(\".disable-patterns\") &&\n                !el?.parentNode?.closest?.(\".disable-patterns\") &&\n                !el?.parentNode?.closest?.(\"pre\") &&\n                !el?.parentNode?.closest?.(\"template\") && // NOTE: not strictly necessary. Template is a DocumentFragment and not reachable except for IE.\n                !el.matches(\".cant-touch-this\") && // BBB. TODO: Remove with next major version.\n                !el?.parentNode?.closest?.(\".cant-touch-this\") // BBB. TODO: Remove with next major version.\n            );\n        });\n\n        // walk list backwards and initialize patterns inside-out.\n        for (const el of matches.reverse()) {\n            for (const name of patterns) {\n                this.initPattern(name, el, trigger);\n            }\n        }\n        document.body.classList.add(\"patterns-loaded\");\n    },\n\n    register(pattern, name) {\n        name = name || pattern.name;\n        if (!name) {\n            log.error(\"Pattern lacks a name.\", pattern);\n            return false;\n        }\n        if (registry.patterns[name]) {\n            log.debug(`Already have a pattern called ${name}.`);\n            return false;\n        }\n        // register pattern to be used for scanning new content\n        registry.patterns[name] = pattern;\n\n        // register pattern as jquery plugin\n        if (pattern.jquery_plugin) {\n            const plugin_name = (\"pat-\" + name).replace(\n                /-([a-zA-Z])/g,\n                function (match, p1) {\n                    return p1.toUpperCase();\n                }\n            );\n            $.fn[plugin_name] = utils.jqueryPlugin(pattern);\n            // BBB 2012-12-10 and also for Mockup patterns.\n            $.fn[plugin_name.replace(/^pat/, \"pattern\")] = $.fn[plugin_name];\n        }\n        log.debug(`Registered pattern ${name}`, pattern);\n        if (window.__patternslib_registry_initialized) {\n            // Once the first initialization has been done, do only scan for\n            // newly registered patterns.\n            registry.scan(document.body, [name]);\n            log.debug(`Re-scanned dom with newly registered pattern ${name}.`);\n        }\n        return true;\n    },\n};\n\nexport default registry;\n","/**\n * Patterns store - store pattern state locally in the browser\n *\n * Copyright 2008-2012 Simplon B.V.\n * Copyright 2011 Humberto Sermeo\n * Copyright 2011 Florian Friesdorf\n */\nimport logging from \"./logging\";\n\nconst log = logging.getLogger(\"Patternslib Store\");\n\nfunction Storage(backend, prefix) {\n    this.prefix = prefix;\n    this.backend = backend;\n}\n\nStorage.prototype._key = function Storage_key(name) {\n    return this.prefix + \":\" + name;\n};\n\nStorage.prototype._allKeys = function Storage_allKeys() {\n    var keys = [],\n        prefix = this.prefix + \":\",\n        prefix_length = prefix.length,\n        key,\n        i;\n\n    for (i = 0; i < this.backend.length; i++) {\n        key = this.backend.key(i);\n        if (key.slice(0, prefix_length) === prefix) keys.push(key);\n    }\n    return keys;\n};\n\nStorage.prototype.get = function Storage_get(name) {\n    var key = this._key(name),\n        value = this.backend.getItem(key);\n    if (value !== null) {\n        try {\n            value = JSON.parse(value);\n        } catch {\n            log.warn(`Cannot parse storage value for key ${key}`);\n            return;\n        }\n    }\n    return value;\n};\n\nStorage.prototype.set = function Storage_set(name, value) {\n    var key = this._key(name);\n    return this.backend.setItem(key, JSON.stringify(value));\n};\n\nStorage.prototype.remove = function Storage_remove(name) {\n    var key = this._key(name);\n    return this.backend.removeItem(key);\n};\n\nStorage.prototype.clear = function Storage_clear() {\n    var keys = this._allKeys();\n    for (var i = 0; i < keys.length; i++) this.backend.removeItem(keys[i]);\n};\n\nStorage.prototype.all = function Storage_all() {\n    var keys = this._allKeys(),\n        prefix_length = this.prefix.length + 1,\n        lk,\n        data = {};\n\n    for (var i = 0; i < keys.length; i++) {\n        lk = keys[i].slice(prefix_length);\n        data[lk] = JSON.parse(this.backend.getItem(keys[i]));\n    }\n    return data;\n};\n\nfunction ValueStorage(store, name) {\n    this.store = store;\n    this.name = name;\n}\n\nValueStorage.prototype.get = function ValueStorage_get() {\n    return this.store.get(this.name);\n};\n\nValueStorage.prototype.set = function ValueStorage_get(value) {\n    return this.store.set(this.name, value);\n};\n\nValueStorage.prototype.remove = function ValueStorage_remove() {\n    return this.store.remove(this.name);\n};\n\nvar store = {\n    supported: false,\n\n    local: function (name) {\n        return new Storage(window.localStorage, name);\n    },\n\n    session: function (name) {\n        return new Storage(window.sessionStorage, name);\n    },\n\n    ValueStorage: ValueStorage,\n\n    // Update storage options for a given element.\n    updateOptions: function store_updateOptions(trigger, options) {\n        if (options.store !== \"none\") {\n            if (!trigger.id) {\n                log.warn(\"state persistance requested, but element has no id\");\n                options.store = \"none\";\n            } else if (!store.supported) {\n                log.warn(\n                    \"state persistance requested, but browser does not support webstorage\"\n                );\n                options.store = \"none\";\n            }\n        }\n        return options;\n    },\n};\n\n// Perform the test separately since this may throw a SecurityError as\n// reported in #326\ntry {\n    store.supported = typeof window.sessionStorage !== \"undefined\";\n} catch (e) {\n    // just ignore.\n}\n\nexport default store;\n","import $ from \"jquery\";\nimport dom from \"./dom\";\n\nconst _MS_PER_DAY = 1000 * 60 * 60 * 24; // Milliseconds per day.\n\n$.fn.safeClone = function () {\n    var $clone = this.clone();\n    return $clone;\n};\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function (callback, thisArg) {\n        var T, k;\n        if (this === null) {\n            throw new TypeError(\" this is null or not defined\");\n        }\n        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n        var O = Object(this);\n        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        var len = O.length >>> 0;\n        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== \"function\") {\n            throw new TypeError(callback + \" is not a function\");\n        }\n        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 1) {\n            T = thisArg;\n        }\n        // 6. Let k be 0\n        k = 0;\n        // 7. Repeat, while k < len\n        while (k < len) {\n            var kValue;\n            // a. Let Pk be ToString(k).\n            //   This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n            //   This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n                // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n                kValue = O[k];\n                // ii. Call the Call internal method of callback with T as the this value and\n                // argument list containing kValue, k, and O.\n                callback.call(T, kValue, k, O);\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n        // 8. return undefined\n    };\n}\n\nvar singleBoundJQueryPlugin = function (pattern, method, options) {\n    /* This is a jQuery plugin for patterns which are invoked ONCE FOR EACH\n     * matched element in the DOM.\n     *\n     * This is how the Mockup-type patterns behave. They are constructor\n     * functions which need to be invoked once per jQuery-wrapped DOM node\n     * for all DOM nodes on which the pattern applies.\n     */\n    var $this = this;\n    $this.each(function () {\n        var pat,\n            $el = $(this);\n        pat = pattern.init($el, options);\n        if (method) {\n            if (pat[method] === undefined) {\n                $.error(\n                    \"Method \" + method + \" does not exist on jQuery.\" + pattern.name\n                );\n                return false;\n            }\n            if (method.charAt(0) === \"_\") {\n                $.error(\"Method \" + method + \" is private on jQuery.\" + pattern.name);\n                return false;\n            }\n            pat[method].apply(pat, [options]);\n        }\n    });\n    return $this;\n};\n\nvar pluralBoundJQueryPlugin = function (pattern, method, options) {\n    /* This is a jQuery plugin for patterns which are invoked ONCE FOR ALL\n     * matched elements in the DOM.\n     *\n     * This is how the vanilla Patternslib-type patterns behave. They are\n     * simple objects with an init method and this method gets called once\n     * with a list of jQuery-wrapped DOM nodes on which the pattern\n     * applies.\n     */\n    var $this = this;\n    if (method) {\n        if (pattern[method]) {\n            return pattern[method].apply($this, [$this].concat([options]));\n        } else {\n            $.error(\"Method \" + method + \" does not exist on jQuery.\" + pattern.name);\n        }\n    } else {\n        pattern.init.apply($this, [$this].concat([options]));\n    }\n    return $this;\n};\n\nvar jqueryPlugin = function (pattern) {\n    return function (method, options) {\n        var $this = this;\n        if ($this.length === 0) {\n            return $this;\n        }\n        if (typeof method === \"object\") {\n            options = method;\n            method = undefined;\n        }\n        if (typeof pattern === \"function\") {\n            return singleBoundJQueryPlugin.call(this, pattern, method, options);\n        } else {\n            return pluralBoundJQueryPlugin.call(this, pattern, method, options);\n        }\n    };\n};\n\n// Is a given variable an object?\nfunction isObject(obj) {\n    var type = typeof obj;\n    return type === \"function\" || (type === \"object\" && !!obj);\n}\n\n// Extend a given object with all the properties in passed-in object(s).\nfunction extend(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            if (hasOwnProperty.call(source, prop)) {\n                obj[prop] = source[prop];\n            }\n        }\n    }\n    return obj;\n}\n// END: Taken from Underscore.js until here.\n\nfunction findLabel(input) {\n    var $label;\n    for (\n        var label = input.parentNode;\n        label && label.nodeType !== 11;\n        label = label.parentNode\n    ) {\n        if (label.tagName === \"LABEL\") {\n            return label;\n        }\n    }\n    if (input.id) {\n        $label = $('label[for=\"' + input.id + '\"]');\n    }\n    if ($label && $label.length === 0 && input.form) {\n        $label = $('label[for=\"' + input.name + '\"]', input.form);\n    }\n    if ($label && $label.length) {\n        return $label[0];\n    } else {\n        return null;\n    }\n}\n\n// Taken from http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\nfunction elementInViewport(el) {\n    var rect = el.getBoundingClientRect(),\n        docEl = document.documentElement,\n        vWidth = window.innerWidth || docEl.clientWidth,\n        vHeight = window.innerHeight || docEl.clientHeight;\n\n    if (rect.right < 0 || rect.bottom < 0 || rect.left > vWidth || rect.top > vHeight)\n        return false;\n    return true;\n}\n\n// Taken from http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\nfunction escapeRegExp(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\n\n/**\n * Remove classes from a list of targets if they match a specific pattern.\n *\n * @param {Node, NodeList} targets: Dom Node or NodeList where the classes should be removed.\n * @param {string} classes: String matching classes to be removed.\n *                          You can add a \"*\" as wildcard to search for classes to be removed.\n *                          E.g. \"icon-*-alert\" to remove any of \"icon-1-alert icon-2-alert\".\n *\n * @returns {undefined}: This method directly operates on the targets.\n */\nfunction removeWildcardClass(targets, classes) {\n    targets = utils.ensureArray(targets);\n\n    if (classes.indexOf(\"*\") === -1) {\n        for (const target of targets) {\n            target.classList.remove(classes);\n        }\n    } else {\n        let matcher = classes.replace(/[\\-\\[\\]{}()+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n        matcher = matcher.replace(/[*]/g, \".*\");\n        matcher = new RegExp(\"^\" + matcher + \"$\");\n\n        for (const target of targets) {\n            const class_list = (target.getAttribute(\"class\") || \"\").split(/\\s+/);\n            if (!class_list.length) {\n                continue;\n            }\n            const ok = class_list.filter((it) => !matcher.test(it));\n            if (ok.length) {\n                target.setAttribute(\"class\", ok.join(\" \"));\n            } else {\n                target.removeAttribute(\"class\");\n            }\n        }\n    }\n}\n\nfunction hasValue(el) {\n    if (el.tagName === \"INPUT\") {\n        if (el.type === \"checkbox\" || el.type === \"radio\") {\n            return el.checked;\n        }\n        return el.value !== \"\";\n    }\n    if (el.tagName === \"SELECT\") {\n        return el.selectedIndex !== -1;\n    }\n    if (el.tagName === \"TEXTAREA\") {\n        return el.value !== \"\";\n    }\n    return false;\n}\n\nconst hideOrShow = (nodes, visible, options, pattern_name) => {\n    nodes = dom.toNodeArray(nodes);\n\n    const transitions = {\n        none: { hide: \"hide\", show: \"show\" },\n        fade: { hide: \"fadeOut\", show: \"fadeIn\" },\n        slide: { hide: \"slideUp\", show: \"slideDown\" },\n    };\n\n    const duration =\n        options.transition === \"css\" || options.transition === \"none\"\n            ? null\n            : options.effect.duration;\n\n    const on_complete = (el) => {\n        el.classList.remove(\"in-progress\");\n        el.classList.add(visible ? \"visible\" : \"hidden\");\n        $(el).trigger(\"pat-update\", {\n            pattern: pattern_name,\n            action: \"attribute-changed\",\n            dom: el,\n            transition: \"complete\",\n        });\n    };\n\n    for (const el of nodes) {\n        el.classList.remove(\"visible\");\n        el.classList.remove(\"hidden\");\n        el.classList.remove(\"in-progress\");\n\n        if (duration) {\n            const t = transitions[options.transition];\n            el.classList.add(\"in-progress\");\n            $(el).trigger(\"pat-update\", {\n                pattern: pattern_name,\n                action: \"attribute-changed\",\n                dom: el,\n                transition: \"start\",\n            });\n            $(el)[visible ? t.show : t.hide]({\n                duration: duration,\n                easing: options.effect.easing,\n                complete: () => on_complete(el),\n            });\n        } else {\n            if (options.transition !== \"css\") {\n                dom[visible ? \"show\" : \"hide\"](el);\n            }\n            on_complete(el);\n        }\n    }\n};\n\nfunction addURLQueryParameter(fullURL, param, value) {\n    /* Using a positive lookahead (?=\\=) to find the given parameter,\n     * preceded by a ? or &, and followed by a = with a value after\n     * than (using a non-greedy selector) and then followed by\n     * a & or the end of the string.\n     *\n     * Taken from http://stackoverflow.com/questions/7640270/adding-modify-query-string-get-variables-in-a-url-with-javascript\n     */\n    var val = new RegExp(\"(\\\\?|\\\\&)\" + param + \"=.*?(?=(&|$))\"),\n        parts = fullURL.toString().split(\"#\"),\n        url = parts[0],\n        hash = parts[1],\n        qstring = /\\?.+$/,\n        newURL = url;\n    // Check if the parameter exists\n    if (val.test(url)) {\n        // if it does, replace it, using the captured group\n        // to determine & or ? at the beginning\n        newURL = url.replace(val, \"$1\" + param + \"=\" + value);\n    } else if (qstring.test(url)) {\n        // otherwise, if there is a query string at all\n        // add the param to the end of it\n        newURL = url + \"&\" + param + \"=\" + value;\n    } else {\n        // if there's no query string, add one\n        newURL = url + \"?\" + param + \"=\" + value;\n    }\n    if (hash) {\n        newURL += \"#\" + hash;\n    }\n    return newURL;\n}\n\nfunction removeDuplicateObjects(objs) {\n    /* Given an array of objects, remove any duplicate objects which might\n     * be present.\n     */\n    const comparator = function (k, v) {\n        return this[k] === v;\n    };\n\n    return objs.reduce(function (list, next_obj) {\n        let is_duplicate = false;\n        for (const obj of list) {\n            is_duplicate =\n                Object.keys(obj).length === Object.keys(next_obj).length &&\n                Object.entries(obj).filter(\n                    (it) => !comparator.bind(next_obj)(it[0], it[1])\n                ).length === 0;\n        }\n        if (!is_duplicate) {\n            list.push(next_obj);\n        }\n        return list;\n    }, []);\n}\n\nfunction mergeStack(stack, length) {\n    /* Given a list of lists of objects (which for brevity we call a stack),\n     * return a list of objects where each object is the merge of all the\n     * corresponding original objects at that particular index.\n     *\n     * If a certain sub-list doesn't have an object at that particular\n     * index, the last object in that list is merged.\n     */\n    const results = [];\n    for (let i = 0; i < length; i++) {\n        results.push({});\n    }\n    for (const frame of stack) {\n        const frame_length = frame.length - 1;\n        for (let x = 0; x < length; x++) {\n            results[x] = $.extend(\n                results[x] || {},\n                frame[x > frame_length ? frame_length : x]\n            );\n        }\n    }\n    return results;\n}\n\nfunction isElementInViewport(el, partial = false, offset = 0) {\n    /* returns true if element is visible to the user ie. is in the viewport.\n     * Setting partial parameter to true, will only check if a part of the element is visible\n     * in the viewport, specifically that some part of that element is touching the top part\n     * of the viewport. This only applies to the vertical direction, ie. doesnt check partial\n     * visibility for horizontal scrolling\n     * some code taken from:\n     * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433\n     */\n    if (el instanceof $) {\n        el = el[0];\n    }\n\n    const rec = el.getBoundingClientRect();\n    const rec_values = [rec.top, rec.bottom, rec.left, rec.right];\n\n    if (rec_values.every((val) => val === 0)) {\n        // if every property of rec is 0, the element is invisible;\n        return false;\n    } else if (partial) {\n        // when using getBoundingClientRect() (in the vertical case)\n        // negative means above top of viewport, positive means below top of viewport\n        // therefore for part of the element to be touching or crossing the top of the viewport\n        // rec.top must <= 0 and rec.bottom must >= 0\n        // an optional tolerance offset can be added for when the desired element is not exactly\n        // toucing the top of the viewport but needs to be considered as touching.\n        return (\n            rec.top <= 0 + offset && rec.bottom >= 0 + offset\n            //(rec.top >= 0+offset && rec.top <= window.innerHeight) // this checks if the element\n            // touches bottom part of viewport\n            // XXX do we want to include a check for the padding of an element?\n            // using window.getComputedStyle(target).paddingTop\n        );\n    } else {\n        // this will return true if the entire element is completely in the viewport\n        return (\n            rec.top >= 0 &&\n            rec.left >= 0 &&\n            rec.bottom <=\n                (window.innerHeight || document.documentElement.clientHeight) &&\n            rec.right <= (window.innerWidth || document.documentElement.clientWidth)\n        );\n    }\n}\n\n/* parseTime - Parse a duration from a string and return the parsed time in milliseconds.\n *\n * @param {String} time - A duration/time string like ``1ms``, ``1s`` or ``1m``.\n *\n * @returns {Number} - A integer which represents the parsed time in milliseconds.\n */\nfunction parseTime(time) {\n    var m = /^(\\d+(?:\\.\\d+)?)\\s*(\\w*)/.exec(time);\n    if (!m) {\n        throw new Error(\"Invalid time\");\n    }\n    var amount = parseFloat(m[1]);\n    switch (m[2]) {\n        case \"s\":\n            return Math.round(amount * 1000);\n        case \"m\":\n            return Math.round(amount * 1000 * 60);\n        case \"ms\":\n        default:\n            return Math.round(amount);\n    }\n}\n\n// Return a jQuery object with elements related to an input element.\nfunction findRelatives(el) {\n    var $el = $(el),\n        $relatives = $(el),\n        $label = $();\n\n    $relatives = $relatives.add($el.closest(\"label\"));\n    $relatives = $relatives.add($el.closest(\"fieldset\"));\n\n    if (el.id) $label = $(\"label[for='\" + el.id + \"']\");\n    if (!$label.length) {\n        var $form = $el.closest(\"form\");\n        if (!$form.length) $form = $(document.body);\n        $label = $form.find(\"label[for='\" + el.name + \"']\");\n    }\n    $relatives = $relatives.add($label);\n    return $relatives;\n}\n\nfunction get_bounds(el) {\n    // Return bounds of an element with it's values rounded and converted to ints.\n    const bounds = el.getBoundingClientRect();\n    return {\n        x: parseInt(Math.round(bounds.x), 10) || 0,\n        y: parseInt(Math.round(bounds.y), 10) || 0,\n        top: parseInt(Math.round(bounds.top), 10) || 0,\n        bottom: parseInt(Math.round(bounds.bottom), 10) || 0,\n        left: parseInt(Math.round(bounds.left), 10) || 0,\n        right: parseInt(Math.round(bounds.right), 10) || 0,\n        width: parseInt(Math.round(bounds.width), 10) || 0,\n        height: parseInt(Math.round(bounds.height), 10) || 0,\n    };\n}\n\nfunction checkInputSupport(type, invalid_value) {\n    /* Check input type support.\n     *  See: https://stackoverflow.com/a/10199306/1337474\n     */\n    let support = false;\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", type);\n    support = input.type == type;\n\n    if (invalid_value !== undefined) {\n        // Check for input type UI support\n        input.setAttribute(\"value\", invalid_value);\n        support = input.value !== invalid_value;\n    }\n    return support;\n}\n\nconst checkCSSFeature = (attribute, value, tag = \"div\") => {\n    /* Check for browser support of specific CSS feature.\n     */\n    tag = document.createElement(tag);\n    let supported = tag.style[attribute] !== undefined;\n    if (supported && value !== undefined) {\n        tag.style[attribute] = value;\n        supported = tag.style[attribute] === value;\n    }\n    return supported;\n};\n\nconst animation_frame = () => {\n    // Return promise to await next repaint cycle\n    // Use it in your async function like so: ``await utils.animation_frame()``\n    // From: http://www.albertlobo.com/fractals/async-await-requestanimationframe-buddhabrot\n    return new Promise(window.requestAnimationFrame);\n};\n\nconst timeout = (ms) => {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n};\n\nconst debounce = (func, ms, timer = { timer: null }) => {\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds.\n    // From: https://underscorejs.org/#debounce\n    //\n    // Make sure to initialize ``debounce`` only once per to-be-debounced\n    // function to not reinitialize the timer each time and debounce not being\n    // able to cancel previouse runs.\n    //\n    // Pass a module-global timer as an object ``{ timer: null }`` if you want\n    // to also cancel debounced functions from other pattern-invocations.\n    //\n    return function () {\n        clearTimeout(timer.timer);\n        const args = arguments;\n        timer.timer = setTimeout(() => func.apply(this, args), ms);\n    };\n};\n\nconst isIE = () => {\n    // See: https://stackoverflow.com/a/9851769/1337474\n    // Internet Explorer 6-11\n    return /*@cc_on!@*/ false || !!document.documentMode;\n};\n\nconst jqToNode = (el) => {\n    // Return a DOM node if a jQuery node was passed.\n    if (el.jquery) {\n        el = el[0];\n    }\n    return el;\n};\n\n/**\n * Always return an iterable object.\n *\n * @param {any} it: The object which needs to be wrapped in an array or returned as is if it is iterable.\n * @param {boolean} force_array: If the object is iterable but not an Array, convert it to an array (e.g. For jQuery items or NodeList objects).\n *\n * @returns {Array}: Returns the object wrapped in an Array, expanded to an Array or as-is if it is already iterable.\n */\nconst ensureArray = (it, force_array) => {\n    // Ensure to return always an array\n    const array_like = !!(\n        NodeList.prototype.isPrototypeOf(it) || // eslint-disable-line no-prototype-builtins\n        Array.isArray(it) ||\n        it.jquery\n    );\n    return array_like ? (force_array ? [...it] : it) : [it];\n};\n\nconst localized_isodate = (date) => {\n    // Return a iso date (date only) in the current timezone instead of a\n    // UTC ISO 8601 date+time component which toISOString returns.\n\n    const day = date.getDate().toString().padStart(2, \"0\");\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    const year = date.getFullYear().toString();\n\n    return `${year}-${month}-${day}`;\n};\n\n/**\n * Replace HTML reserved characters with html entities to add HTML for user\n * editing to e.g. a textarea or a contenteditable.\n *\n * See:\n *  https://stackoverflow.com/a/22706073/1337474\n *  https://developer.mozilla.org/en-US/docs/Glossary/Entity#reserved_characters\n *\n * @param {string} html - The HTML string to encode.\n *\n * @returns {string} - Returns the escaped html string:\n *                     ``&`` will be replaced with ``&amp;``.\n *                     ``<`` will be repalced with ``&lt;``,\n *                     ``>`` will be replaced with ``&gt;``,\n *                     ``\"`` will be replaced with ``&quot;``.\n */\nconst escape_html = (html) => {\n    if (!html) {\n        return \"\";\n    }\n    const el = document.createElement(\"div\");\n    el.appendChild(document.createTextNode(html));\n    // Return escaped html and also replace quotes.\n    return el.innerHTML.replace(/\"/g, \"&quot;\");\n};\n\n/**\n * Return unescaped, raw HTML from an escaped HTML  string.\n *\n * See:\n *  https://stackoverflow.com/a/34064434/1337474\n *  https://developer.mozilla.org/en-US/docs/Glossary/Entity#reserved_characters\n *\n * @param {string} escaped_html - The HTML string to decode.\n *\n * @returns {string} - Returns the escaped html string:\n *                     ``&amp;`` will be replaced with ``&``,\n *                     ``&lt;`` will be repalced with ``<``,\n *                     ``&gt;`` will be replaced with ``>``,\n *                     ``&quot;`` will be replaced with ``\"``.\n */\nconst unescape_html = (escaped_html) => {\n    if (!escaped_html) {\n        return \"\";\n    }\n    const doc = new DOMParser().parseFromString(escaped_html, \"text/html\");\n    // Return unescaped html and also unescape quote named entities.\n    return doc.documentElement.textContent.replace(/&quot;/g, '\"');\n};\n\n/**\n * Return true, if the given value is a valid ISO 8601 date/time string with or without an optional time component.\n *\n * @param {String} value - The date/time value to be checked.\n * @param {Boolean} [optional_time=false] - True, if time component is optional.\n * @return {Boolean} - True, if the given value is a valid Date string. False if not.\n */\nconst is_iso_date_time = (value, optional_time = false) => {\n    const re_date_time = optional_time\n        ? /^\\d{4}-[01]\\d-[0-3]\\d(T[0-2]\\d:[0-5]\\d)?$/\n        : /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d$/;\n    return re_date_time.test(value);\n};\n\n/**\n * Return true, if the given value is a valid ISO 8601 date string and without a time component.\n *\n * @param {String} value - The date value to be checked.\n * @return {Boolean} - True, if the given value is a valid ISO 8601 date string without a time component. False if not.\n */\nconst is_iso_date = (value) => {\n    const re_date_time = /^\\d{4}-[01]\\d-[0-3]\\d$/;\n    return re_date_time.test(value);\n};\n\n/**\n * Return the number of days between two dates.\n * Based on: https://stackoverflow.com/a/15289883/1337474\n *\n * @param {Date} date_1 - First date to compare. We will substract date_2 from date_1.\n * @param {Date} date_2 - Second date to compare.\n * @return {Number} - The number of days between the two dates.\n */\nconst date_diff = (date_1, date_2) => {\n    // Discard the time and time-zone information.\n    const utc_1 = Date.UTC(date_1.getFullYear(), date_1.getMonth(), date_1.getDate());\n    const utc_2 = Date.UTC(date_2.getFullYear(), date_2.getMonth(), date_2.getDate());\n\n    return Math.floor((utc_1 - utc_2) / _MS_PER_DAY);\n};\n\nvar utils = {\n    jqueryPlugin: jqueryPlugin,\n    escapeRegExp: escapeRegExp,\n    isObject: isObject,\n    extend: extend,\n    findLabel: findLabel,\n    elementInViewport: elementInViewport,\n    removeWildcardClass: removeWildcardClass,\n    hideOrShow: hideOrShow,\n    addURLQueryParameter: addURLQueryParameter,\n    removeDuplicateObjects: removeDuplicateObjects,\n    mergeStack: mergeStack,\n    isElementInViewport: isElementInViewport,\n    hasValue: hasValue,\n    parseTime: parseTime,\n    findRelatives: findRelatives,\n    get_bounds: get_bounds,\n    checkInputSupport: checkInputSupport,\n    checkCSSFeature: checkCSSFeature,\n    animation_frame: animation_frame,\n    timeout: timeout,\n    debounce: debounce,\n    isIE: isIE,\n    jqToNode: jqToNode,\n    ensureArray: ensureArray,\n    localized_isodate: localized_isodate,\n    escape_html: escape_html,\n    unescape_html: unescape_html,\n    is_iso_date_time: is_iso_date_time,\n    is_iso_date: is_iso_date,\n    date_diff: date_diff,\n    getCSSValue: dom.get_css_value, // BBB: moved to dom. TODO: Remove in upcoming version.\n};\n\nexport default utils;\n","/**\n * A Base pattern for creating scoped patterns.\n *\n * Each instance of a pattern has its own local scope.\n * A new instance is created for each DOM element on which a pattern applies.\n *\n * For usage, see basepattern.md\n */\nimport events from \"./events\";\nimport logging from \"./logging\";\n\nconst log = logging.getLogger(\"basepattern\");\n\nclass BasePattern {\n    static name; // name of pattern used in Registry.\n    static trigger; // A CSS selector to match elements that should trigger the pattern instantiation.\n    static parser; // Options parser.\n\n    constructor(el, options = {}) {\n        // Make static variables available on instance.\n        this.name = this.constructor.name;\n        this.trigger = this.constructor.trigger;\n        this.parser = this.constructor.parser;\n\n        if (!el) {\n            log.warn(`No element given to pattern ${this.name}.`);\n            return;\n        }\n        if (el.jquery) {\n            el = el[0];\n        }\n        this.el = el;\n\n        // Initialize asynchronously.\n        //\n        // 1) We need to call the concrete implementation of ``init``, but the\n        //    inheritance chain is not yet set up and ``init`` not available.\n        //\n        // 2) We want to wait for the init() to successfuly finish and fire an\n        //    event then.\n        //    But the constructer cannot not return a Promise, thus not be\n        //    asynchronous but only return itself.\n        //\n        // Both limitations are gone in next tick.\n        //\n        window.setTimeout(async () => {\n            if (typeof this.el[`pattern-${this.name}`] !== \"undefined\") {\n                // Do not reinstantiate\n                log.debug(`Not reinstatiating the pattern ${this.name}.`, this.el);\n\n                // Notify that not instantiated\n                this.el.dispatchEvent(\n                    new Event(`not-init.${this.name}.patterns`, {\n                        bubbles: true,\n                        cancelable: false,\n                    })\n                );\n                return;\n            }\n\n            // Create the options object by parsing the element and using the\n            // optional options as default.\n            this.options = this.parser?.parse(this.el, options) ?? options;\n\n            // Store pattern instance on element\n            this.el[`pattern-${this.name}`] = this;\n\n            // Initialize the pattern\n            await this.init();\n\n            // Notify that now ready\n            this.el.dispatchEvent(\n                new Event(`init.${this.name}.patterns`, {\n                    bubbles: true,\n                    cancelable: true,\n                })\n            );\n        }, 0);\n    }\n\n    async init() {\n        // Extend this method in your pattern.\n    }\n\n    /**\n     * Listen to an event on the element only once.\n     *\n     * @param {string} event_name - Name of the event to listen to.\n     * @param {function} callback - Callback to call when the event is thrown.\n     */\n    one(event_name, event_callback) {\n        events.add_event_listener(\n            this.el,\n            `${event_name}.${this.name}.patterns`,\n            `basepattern-one--${event_name}.${this.name}.patterns`,\n            event_callback,\n            {\n                once: true,\n            }\n        );\n    }\n\n    /**\n     * Destroy/remove/unload the pattern from the element.\n     */\n    destroy() {\n        delete this.el[`pattern-${this.name}`];\n    }\n}\n\nexport default BasePattern;\nexport { BasePattern };\n","/**\n * Patterns ajax - AJAX injection for forms and anchors\n *\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2012-2013 Marko Durkovic\n */\nimport $ from \"jquery\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\n\nconst log = logging.getLogger(\"pat.ajax\");\n\nexport const parser = new Parser(\"ajax\");\nparser.addArgument(\"accept\", \"text/html\");\nparser.addArgument(\"url\", function ($el) {\n    return (\n        $el.is(\"a\") ? $el.attr(\"href\") : $el.is(\"form\") ? $el.attr(\"action\") : \"\"\n    ).split(\"#\")[0];\n});\nparser.addArgument(\"browser-cache\", \"no-cache\", [\"cache\", \"no-cache\"]); // Cache ajax requests\n\nconst xhrCount = {};\nxhrCount.get = function (a) {\n    return this[a] !== undefined ? this[a] : 0;\n};\nxhrCount.inc = function (a) {\n    this[a] = this.get(a) + 1;\n    return this.get(a);\n};\n\nconst _ = {\n    name: \"ajax\",\n    trigger: \".pat-ajax\",\n    parser: parser,\n    init($el) {\n        $el.off(\".pat-ajax\");\n        $el.filter(\"a\").on(\"click.pat-ajax\", _.onTriggerEvents);\n        $el.filter(\"form\")\n            .on(\"submit.pat-ajax\", _.onTriggerEvents)\n            .on(\"click.pat-ajax\", \"[type=submit]\", _.onClickSubmit);\n        $el.filter(\":not(form,a)\").each(function () {\n            log.warn(\"Unsupported element:\", this);\n        });\n        return $el;\n    },\n    destroy($el) {\n        $el.off(\".pat-ajax\");\n    },\n    onClickSubmit(event) {\n        const el = event.target;\n        const form = el.closest(\"form\");\n        const data = {};\n        if (el.name) {\n            data[el.name] = el.value;\n        }\n        $(form).data(\"pat-ajax.clicked-data\", data);\n    },\n    onTriggerEvents(event) {\n        if (event) {\n            event.preventDefault();\n        }\n        _.request($(this));\n    },\n    request($el, opts) {\n        return $el.each(function () {\n            _._request($(this), opts);\n        });\n    },\n    _request($el, opts) {\n        const cfg = _.parser.parse($el, opts);\n        const onError = function (jqxhr, status, error) {\n            // error can also stem from a javascript\n            // exception, not only errors described in the\n            // jqxhr.\n            log.error(\"load error for \" + cfg.url + \":\", error, jqxhr);\n            $el.trigger({\n                type: \"pat-ajax-error\",\n                jqxhr: jqxhr,\n            });\n        };\n        const seqNumber = xhrCount.inc(cfg.url);\n        const onSuccess = function (data, status, jqxhr) {\n            log.debug(\"success: jqxhr:\", jqxhr);\n            if (seqNumber === xhrCount.get(cfg.url)) {\n                // if this url is requested multiple time, only return the last result\n                $el.trigger({\n                    type: \"pat-ajax-success\",\n                    jqxhr: jqxhr,\n                });\n            } else {\n                // ignore\n            }\n        };\n        const temp = $el.data(\"pat-ajax.clicked-data\");\n        const clickedData = temp ? $.param(temp) : \"\";\n        const args = {\n            context: $el,\n            data: [$el.serialize(), clickedData].filter(Boolean).join(\"&\"),\n            headers: {},\n            url: cfg.url,\n            method: $el.attr(\"method\") ? $el.attr(\"method\") : \"GET\",\n            cache: cfg.browserCache === \"cache\" ? true : false,\n        };\n\n        if (cfg.accept) {\n            args.headers.Accept = cfg.accept;\n        }\n\n        if (\n            $el.is(\"form\") &&\n            $el.attr(\"method\") &&\n            $el.attr(\"method\").toUpperCase() == \"POST\"\n        ) {\n            const formdata = new FormData($el[0]);\n            for (const key in temp) {\n                formdata.append(key, temp[key]);\n            }\n            args[\"method\"] = \"POST\";\n            args[\"data\"] = formdata;\n            args[\"cache\"] = false;\n            args[\"contentType\"] = false;\n            args[\"processData\"] = false;\n            args[\"type\"] = \"POST\";\n        }\n\n        $el.removeData(\"pat-ajax.clicked-data\");\n        log.debug(\"request:\", args, $el[0]);\n\n        // Make it happen\n        const ajax_deferred = $.ajax(args);\n\n        if (ajax_deferred) ajax_deferred.done(onSuccess).fail(onError);\n    },\n};\n\nregistry.register(_);\n\nexport default _;\n","import \"../../core/jquery-ext\"; // for :scrollable for autoLoading-visible\nimport $ from \"jquery\";\nimport ajax from \"../ajax/ajax\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.inject\");\n//log.setLevel(logging.Level.DEBUG);\n\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\n\nexport const parser = new Parser(\"inject\");\nparser.addArgument(\"default-selector\");\nparser.addArgument(\"target\");\nparser.addArgument(\"data-type\", \"html\");\nparser.addArgument(\"next-href\");\nparser.addArgument(\"source\");\nparser.addArgument(\"trigger\", \"default\", [\n    \"default\",\n    \"autoload\",\n    \"autoload-visible\",\n    \"idle\",\n]);\nparser.addArgument(\"delay\"); // only used in autoload\nparser.addArgument(\"browser-cache\", \"no-cache\", [\"cache\", \"no-cache\"]); // Cache ajax requests. Pass to pat-ajax.\nparser.addArgument(\"confirm\", \"class\", [\"never\", \"always\", \"form-data\", \"class\"]);\nparser.addArgument(\"confirm-message\", \"Are you sure you want to leave this page?\");\nparser.addArgument(\"hooks\", [], [\"raptor\"], true); // After injection, pat-inject will trigger an event for each hook: pat-inject-hook-$(hook)\nparser.addArgument(\"loading-class\", \"injecting\"); // Add a class to the target while content is still loading.\nparser.addArgument(\"executing-class\", \"executing\"); // Add a class to the element while content is still loading.\nparser.addArgument(\"executed-class\", \"executed\"); // Add a class to the element when content is loaded.\nparser.addArgument(\"class\"); // Add a class to the injected content.\nparser.addArgument(\"history\", \"none\", [\"none\", \"record\"]);\nparser.addArgument(\"push-marker\");\nparser.addArgument(\"scroll\");\n// XXX: this should not be here but the parser would bail on\n// unknown parameters and expand/collapsible need to pass the url\n// to us\nparser.addArgument(\"url\");\n\nconst inject = {\n    name: \"inject\",\n    trigger:\n        \".raptor-ui .ui-button.pat-inject, a.pat-inject, form.pat-inject, .pat-subform.pat-inject\",\n    parser: parser,\n\n    init($el, opts) {\n        const cfgs = this.extractConfig($el, opts);\n        if (cfgs.some((e) => e.history === \"record\") && !(\"pushState\" in history)) {\n            // if the injection shall add a history entry and HTML5 pushState\n            // is missing, then don't initialize the injection.\n            return $el;\n        }\n        $el.data(\"pat-inject\", cfgs);\n\n        if (cfgs[0].nextHref && cfgs[0].nextHref.indexOf(\"#\") === 0) {\n            // In case the next href is an anchor, and it already\n            // exists in the page, we do not activate the injection\n            // but instead just change the anchors href.\n\n            // XXX: This is used in only one project for linked\n            // fullcalendars, it's sanity is wonky and we should\n            // probably solve it differently.\n            if ($el.is(\"a\") && $(cfgs[0].nextHref).length > 0) {\n                log.debug(\n                    \"Skipping as next href is anchor, which already exists\",\n                    cfgs[0].nextHref\n                );\n                // XXX: reconsider how the injection enters exhausted state\n                return $el.attr({\n                    href: (window.location.href.split(\"#\")[0] || \"\") + cfgs[0].nextHref,\n                });\n            }\n        }\n        if (cfgs[0].pushMarker) {\n            $(\"body\").on(\"push\", (event, data) => {\n                log.debug(\"received push message: \" + data);\n                if (data == cfgs[0].pushMarker) {\n                    log.debug(\"re-injecting \" + data);\n                    this.onTrigger({ currentTarget: $el[0] });\n                }\n            });\n        }\n        if (cfgs[0].idleTrigger) {\n            this._initIdleTrigger($el, cfgs[0].idleTrigger);\n        } else {\n            switch (cfgs[0].trigger) {\n                case \"default\":\n                    cfgs.forEach((cfg) => {\n                        if (cfg.delay) {\n                            cfg.processDelay = cfg.delay;\n                        }\n                    });\n                    // setup event handlers\n                    if ($el.is(\"form\")) {\n                        $el.on(\"submit.pat-inject\", this.onTrigger.bind(this))\n                            .on(\"click.pat-inject\", \"[type=submit]\", ajax.onClickSubmit)\n                            .on(\n                                \"click.pat-inject\",\n                                \"[type=submit][formaction], [type=image][formaction]\",\n                                this.onFormActionSubmit.bind(this)\n                            );\n                    } else if ($el.is(\".pat-subform\")) {\n                        log.debug(\"Initializing subform with injection\");\n                    } else {\n                        $el.on(\"click.pat-inject\", this.onTrigger.bind(this));\n                    }\n                    break;\n                case \"autoload\":\n                    if (!cfgs[0].delay) {\n                        this.onTrigger({ currentTarget: $el[0] });\n                    } else {\n                        // generate UID\n                        const uid = Math.random().toString(36);\n                        $el.attr(\"data-pat-inject-uid\", uid);\n\n                        // function to trigger the autoload and mark as triggered\n                        const delayed_trigger = (uid_) => {\n                            // Check if the element has been removed from the dom\n                            const still_there = $(\n                                \"[data-pat-inject-uid='\" + uid_ + \"']\"\n                            );\n                            if (still_there.length == 0) return false;\n\n                            $el.data(\"pat-inject-autoloaded\", true);\n                            this.onTrigger({ currentTarget: $el[0] });\n                            return true;\n                        };\n                        window.setTimeout(\n                            delayed_trigger.bind(null, uid),\n                            cfgs[0].delay\n                        );\n                    }\n                    break;\n                case \"autoload-visible\":\n                    this._initAutoloadVisible($el, cfgs);\n                    break;\n                case \"idle\":\n                    this._initIdleTrigger($el, cfgs[0].delay);\n                    break;\n            }\n        }\n\n        log.debug(\"initialised:\", $el);\n        return $el;\n    },\n\n    destroy($el) {\n        $el.off(\".pat-inject\");\n        $el.data(\"pat-inject\", null);\n        return $el;\n    },\n\n    onTrigger(e) {\n        /* Injection has been triggered, either via form submission or a\n         * link has been clicked.\n         */\n        const $el = $(e.currentTarget);\n        const cfgs = $el.data(\"pat-inject\");\n        if ($el.is(\"form\")) {\n            $(cfgs).each((i, v) => {\n                v.params = $.param($el.serializeArray());\n            });\n        }\n        e.preventDefault && e.preventDefault();\n        $el.trigger(\"patterns-inject-triggered\");\n        this.execute(cfgs, $el);\n    },\n\n    onFormActionSubmit(e) {\n        ajax.onClickSubmit(e); // make sure the submitting button is sent with the form\n\n        const $button = $(e.target);\n        const formaction = $button.attr(\"formaction\");\n        const $form = $button.parents(\".pat-inject\").first();\n        const opts = {\n            url: formaction,\n        };\n        const $cfg_node = $button.closest(\"[data-pat-inject]\");\n        const cfgs = this.extractConfig($cfg_node, opts);\n\n        $(cfgs).each((i, v) => {\n            v.params = $.param($form.serializeArray());\n        });\n\n        e.preventDefault();\n        $form.trigger(\"patterns-inject-triggered\");\n        this.execute(cfgs, $form);\n    },\n\n    submitSubform($sub) {\n        /* This method is called from pat-subform\n         */\n        const $el = $sub.parents(\"form\");\n        const cfgs = $sub.data(\"pat-inject\");\n\n        // store the params of the subform in the config, to be used by history\n        $(cfgs).each((i, v) => {\n            v.params = $.param($sub.serializeArray());\n        });\n\n        try {\n            $el.trigger(\"patterns-inject-triggered\");\n        } catch (e) {\n            log.error(\"patterns-inject-triggered\", e);\n        }\n        this.execute(cfgs, $el);\n    },\n\n    extractConfig($el, opts) {\n        opts = $.extend({}, opts);\n\n        const cfgs = parser.parse($el, opts, true);\n        cfgs.forEach((cfg) => {\n            cfg.$context = $el;\n            // opts and cfg have priority, fall back to href/action\n            cfg.url =\n                opts.url ||\n                cfg.url ||\n                $el.attr(\"href\") ||\n                $el.attr(\"action\") ||\n                $el.parents(\"form\").attr(\"action\") ||\n                \"\";\n\n            // separate selector from url\n            const urlparts = cfg.url.split(\"#\");\n            cfg.url = urlparts[0];\n\n            if (urlparts.length > 2) {\n                log.warn(\"Ignoring additional source ids:\", urlparts.slice(2));\n            }\n\n            if (!cfg.defaultSelector) {\n                // if no selector, check for selector as part of original url\n                cfg.defaultSelector = (urlparts[1] && \"#\" + urlparts[1]) || \"body\";\n            }\n            if (cfg.delay) {\n                try {\n                    cfg.delay = utils.parseTime(cfg.delay);\n                } catch (e) {\n                    log.warn(\"Invalid delay value: \", cfg.delay);\n                    cfg.delay = null;\n                }\n            }\n            cfg.processDelay = 0;\n        });\n        return cfgs;\n    },\n\n    elementIsDirty(m) {\n        /* Check whether the passed in form element contains a value.\n         */\n        const data = $.map(m.find(\":input:not(select)\"), (i) => {\n            const val = $(i).val();\n            return Boolean(val) && val !== $(i).attr(\"placeholder\");\n        });\n        return $.inArray(true, data) !== -1;\n    },\n\n    askForConfirmation(cfgs) {\n        /* If configured to do so, show a confirmation dialog to the user.\n         * This is done before attempting to perform injection.\n         */\n        let should_confirm = false;\n        let message;\n\n        for (const cfg of cfgs) {\n            let _confirm = false;\n            if (cfg.confirm == \"always\") {\n                _confirm = true;\n            } else if (\n                cfg.confirm === \"form-data\" &&\n                cfg.target &&\n                cfg.target !== \"none\"\n            ) {\n                _confirm = this.elementIsDirty(cfg.$target);\n            } else if (cfg.confirm === \"class\" && cfg.target && cfg.target !== \"none\") {\n                _confirm = cfg.$target.hasClass(\"is-dirty\");\n            }\n            if (_confirm) {\n                should_confirm = true;\n                message = cfg.confirmMessage;\n            }\n        }\n        if (should_confirm) {\n            if (!window.confirm(message)) {\n                return false;\n            }\n        }\n        return true;\n    },\n\n    ensureTarget(cfg) {\n        /* Make sure that a target element exists and that it's assigned to\n         * cfg.$target.\n         */\n        // make sure target exist\n        if (cfg.target === \"none\") {\n            // special case, we don't want to inject anything\n            return true;\n        }\n        cfg.$target =\n            cfg.$target || (cfg.target === \"self\" ? cfg.$context : $(cfg.target));\n        if (cfg.$target.length === 0) {\n            if (!cfg.target) {\n                log.error(\"Need target selector\", cfg);\n                return false;\n            }\n            cfg.$target = this.createTarget(cfg.target);\n            cfg.$injected = cfg.$target;\n        }\n        return true;\n    },\n\n    verifySingleConfig(url, cfg) {\n        /* Verify one of potentially multiple configs (i.e. argument lists).\n         *\n         * Extract modifiers such as ::element or ::after.\n         * Ensure that a target element exists.\n         */\n        if (cfg.url !== url) {\n            // in case of multi-injection, all injections need to use\n            // the same url\n            log.error(\"Unsupported different urls for multi-inject\");\n            return false;\n        }\n        // defaults\n        cfg.source = cfg.source || cfg.defaultSelector;\n        cfg.target = cfg.target || cfg.defaultSelector;\n\n        if (!this.extractModifiers(cfg)) {\n            return false;\n        }\n        if (!this.ensureTarget(cfg)) {\n            return false;\n        }\n        this.listenForFormReset(cfg);\n        return true;\n    },\n\n    verifyConfig(cfgs) {\n        /* Verify and post-process all the configurations.\n         * Each \"config\" is an arguments list separated by the &&\n         * combination operator.\n         *\n         * In case of multi-injection, only one URL is allowed, which\n         * should be specified in the first config (i.e. arguments list).\n         *\n         * Verification for each cfg in the array needs to succeed.\n         */\n        return cfgs.every((cfg) => this.verifySingleConfig(cfgs[0].url, cfg));\n    },\n\n    listenForFormReset(cfg) {\n        /* if pat-inject is used to populate target in some form and when\n         * Cancel button is pressed (this triggers reset event on the\n         * form) you would expect to populate with initial placeholder\n         */\n        if (cfg.target === \"none\")\n            // Special case, we don't want to display any return value.\n            return;\n        const $form = cfg.$target.parents(\"form\");\n        if ($form.length !== 0 && cfg.$target.data(\"initial-value\") === undefined) {\n            cfg.$target.data(\"initial-value\", cfg.$target.html());\n            $form.on(\"reset\", () => {\n                cfg.$target.html(cfg.$target.data(\"initial-value\"));\n            });\n        }\n    },\n\n    extractModifiers(cfg) {\n        /* The user can add modifiers to the source and target arguments.\n         * Modifiers such as ::element, ::before and ::after.\n         * We identifiy and extract these modifiers here.\n         */\n        const source_re = /^(.*?)(::element)?$/;\n        const target_re = /^(.*?)(::element)?(::after|::before)?$/;\n        const source_match = source_re.exec(cfg.source);\n        const target_match = target_re.exec(cfg.target);\n\n        cfg.source = source_match[1];\n        cfg.sourceMod = source_match[2] ? \"element\" : \"content\";\n        cfg.target = target_match[1];\n        const targetMod = target_match[2] ? \"element\" : \"content\";\n        const targetPosition = (target_match[3] || \"::\").slice(2); // position relative to target\n\n        if (cfg.loadingClass) {\n            cfg.loadingClass += \" \" + cfg.loadingClass + \"-\" + targetMod;\n            if (targetPosition && cfg.loadingClass) {\n                cfg.loadingClass += \" \" + cfg.loadingClass + \"-\" + targetPosition;\n            }\n        }\n        cfg.action = targetMod + targetPosition;\n        // Once we start detecting illegal combinations, we'll\n        // return false in case of error\n        return true;\n    },\n\n    createTarget(selector) {\n        /* create a target that matches the selector\n         *\n         * XXX: so far we only support #target and create a div with\n         * that id appended to the body.\n         */\n        if (selector.slice(0, 1) !== \"#\") {\n            log.error(\"only id supported for non-existing target\");\n            return null;\n        }\n        const $target = $(\"<div />\").attr({ id: selector.slice(1) });\n        $(\"body\").append($target);\n        return $target;\n    },\n\n    _performInjection(target, $el, $source, cfg, trigger, title) {\n        /* Called after the XHR has succeeded and we have a new $source\n         * element to inject.\n         */\n        if (cfg.sourceMod === \"content\") {\n            $source = $source.contents();\n        }\n        let $src;\n        $src = $source.safeClone();\n        $src.findInclusive(\"img\").on(\"load\", (e) => {\n            $(e.currentTarget).trigger(\"pat-inject-content-loaded\");\n        });\n\n        const $injected = cfg.$injected || $src;\n        // Now the injection actually happens.\n        if (this._inject(trigger, $src, $(target), cfg)) {\n            // Update history\n            this._update_history(cfg, trigger, title);\n            // Post-injection\n            this._afterInjection($el, $injected, cfg);\n        }\n    },\n\n    _update_history(cfg, trigger, title) {\n        // History support. if subform is submitted, append form params\n        const glue = cfg.url.indexOf(\"?\") > -1 ? \"&\" : \"?\";\n        if (cfg.history === \"record\" && \"pushState\" in history) {\n            if (cfg.params) {\n                history.pushState(\n                    { url: cfg.url + glue + cfg.params },\n                    \"\",\n                    cfg.url + glue + cfg.params\n                );\n            } else {\n                history.pushState({ url: cfg.url }, \"\", cfg.url);\n            }\n            // Also inject title element if we have one\n            if (title)\n                this._inject(trigger, title, $(\"title\"), {\n                    action: \"element\",\n                });\n        }\n    },\n\n    _afterInjection($el, $injected, cfg) {\n        /* Set a class on the injected elements and fire the\n         * patterns-injected event.\n         */\n        $injected\n            .filter((idx, el_) => {\n                return el_.nodeType !== TEXT_NODE;\n            })\n            .data(\"pat-injected\", { origin: cfg.url });\n\n        if ($injected.length === 1 && $injected[0].nodeType == TEXT_NODE) {\n            // Only one element injected, and it was a text node.\n            // So we trigger \"patterns-injected\" on the parent.\n            // The event handler should check whether the\n            // injected element and the triggered element are\n            // the same.\n            $injected.parent().trigger(\"patterns-injected\", [cfg, $el[0], $injected[0]]);\n        } else {\n            $injected.each((idx, el_) => {\n                // patterns-injected event will be triggered for each injected (non-text) element.\n                if (el_.nodeType !== TEXT_NODE) {\n                    $(el_)\n                        .addClass(cfg[\"class\"])\n                        .trigger(\"patterns-injected\", [cfg, $el[0], el_]);\n                }\n            });\n        }\n\n        if (cfg.scroll && cfg.scroll !== \"none\") {\n            let scroll_container = cfg.$target.parents().addBack().filter(\":scrollable\");\n            scroll_container = scroll_container.length ? scroll_container[0] : window;\n\n            // default for scroll===top\n            let top = 0;\n            let left = 0;\n\n            if (cfg.scroll !== \"top\") {\n                const scroll_target =\n                    cfg.scroll === \"target\"\n                        ? cfg.$target[0]\n                        : $injected.filter(cfg.scroll)[0];\n\n                // Get the reference element to which against we calculate\n                // the relative position of the target.\n                // In case of a scroll container of window, we do not have\n                // getBoundingClientRect method, so get the body instead.\n                const scroll_container_ref =\n                    scroll_container === window ? document.body : scroll_container;\n\n                // Calculate absolute [] position difference between\n                // scroll_container and scroll_target.\n                // Substract the container's border from the scrolling\n                // value, as this one isn't respected by\n                // getBoundingClientRect [] and would lead to covered\n                // items [].\n                // ) so that it doesn't make a difference, if the element\n                // is below or above the scrolling container. We just need\n                // to know the absolute difference.\n                // ) Calculations are based from the viewport.\n                // ) See:\n                //      https://docs.microsoft.com/en-us/previous-versions//hh781509(v=vs.85)\n                //      https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n                left = Math.abs(\n                    scroll_target.getBoundingClientRect().left +\n                        scroll_container_ref.scrollLeft -\n                        scroll_container_ref.getBoundingClientRect().left -\n                        dom.get_css_value(\n                            scroll_container_ref,\n                            \"border-left-width\",\n                            true\n                        )\n                );\n                top = Math.abs(\n                    scroll_target.getBoundingClientRect().top +\n                        scroll_container_ref.scrollTop -\n                        scroll_container_ref.getBoundingClientRect().top -\n                        dom.get_css_value(scroll_container_ref, \"border-top-width\", true)\n                );\n            }\n            if (scroll_container === window) {\n                scroll_container.scrollTo(left, top);\n            } else {\n                scroll_container.scrollLeft = left;\n                scroll_container.scrollTop = top;\n            }\n        }\n\n        $el[0].dispatchEvent(\n            new Event(\"pat-inject-success\", { bubbles: true, cancelable: true })\n        );\n    },\n\n    async _onInjectSuccess($el, cfgs, ev) {\n        let data = ev?.jqxhr?.responseText;\n        if (!data) {\n            log.warn(\"No response content, aborting\", ev);\n            return;\n        }\n        if (cfgs[0].source === \"none\") {\n            // Special case, we want to call something, but we don't want to inject anything\n            data = \"\";\n        }\n        $.each(cfgs[0].hooks || [], (idx, hook) =>\n            $el.trigger(\"pat-inject-hook-\" + hook)\n        );\n        const sources$ = await this.callTypeHandler(cfgs[0].dataType, \"sources\", $el, [\n            cfgs,\n            data,\n            ev,\n        ]);\n        /* pick the title source for dedicated handling later\n          Title - if present - is always appended at the end. */\n        let title;\n        if (\n            sources$ &&\n            sources$[sources$.length - 1] &&\n            sources$[sources$.length - 1][0] &&\n            sources$[sources$.length - 1][0].nodeName == \"TITLE\"\n        ) {\n            title = sources$[sources$.length - 1];\n        }\n        cfgs.forEach((cfg, idx1) => {\n            const perform_inject = () => {\n                if (cfg.target !== \"none\")\n                    cfg.$target.each((idx2, target) => {\n                        this._performInjection(\n                            target,\n                            $el,\n                            sources$[idx1],\n                            cfg,\n                            ev.target,\n                            title\n                        );\n                    });\n            };\n            if (cfg.processDelay) {\n                setTimeout(() => perform_inject(), cfg.processDelay);\n            } else {\n                perform_inject();\n            }\n        });\n        if (cfgs[0].nextHref && $el.is(\"a\")) {\n            // In case next-href is specified the anchor's href will\n            // be set to it after the injection is triggered.\n            $el.attr({ href: cfgs[0].nextHref.replace(/&amp;/g, \"&\") });\n            this.destroy($el);\n        }\n        $el.off(\"pat-ajax-success.pat-inject\");\n        $el.off(\"pat-ajax-error.pat-inject\");\n    },\n\n    async _onInjectError($el, cfgs, event) {\n        let explanation = \"\";\n        const status = event.jqxhr.status;\n        const timestamp = new Date();\n        if (status % 100 == 4) {\n            explanation =\n                \"Sorry! We couldn't find the page to load. Please make a screenshot and send it to support. Thank you!\";\n        } else if (status % 100 == 5) {\n            explanation =\n                \"I am very sorry! There was an error at the server. Please make a screenshot and contact support. Thank you!\";\n        } else if (status == 0) {\n            explanation =\n                \"It seems, the server is down. Please make a screenshot and contact support. Thank you!\";\n        }\n\n        let error_page;\n        let error_page_fragment;\n        const url_params = new URLSearchParams(window.location.search);\n        if (url_params.get(\"pat-inject-errorhandler.off\") === null) {\n            // Prepare a error page to be injected into the document.\n\n            // Try to get a suitable error message from pre-configured error pages.\n            const error_page_url = document\n                ?.querySelector(`meta[name^=pat-inject-status-${status}]`)\n                ?.getAttribute(\"content\", false);\n            error_page_fragment = error_page_url?.split(\"#\")[1];\n            error_page_fragment = error_page_fragment ? `#${error_page_fragment}` : null;\n\n            if (error_page_fragment) {\n                error_page = document.createElement(\"html\");\n                error_page.innerHTML = event.jqxhr.responseText;\n                error_page = error_page.querySelector(error_page_fragment);\n            }\n\n            if (!error_page && error_page_url) {\n                try {\n                    const error_page_response = await fetch(error_page_url, {\n                        method: \"GET\",\n                    });\n                    error_page = document.createElement(\"html\");\n                    error_page.innerHTML = await error_page_response.text();\n                    error_page = error_page.querySelector(error_page_fragment || \"body\");\n                } catch {\n                    // fall back to standard error message and ignore.\n                }\n            }\n        }\n\n        // clean up\n        cfgs.forEach((cfg) => {\n            if (\"$injected\" in cfg) {\n                cfg.$injected.remove();\n            }\n            cfg.$target.removeClass(cfg.loadingClass);\n            $el.removeClass(cfg.executingClass);\n        });\n        $el.off(\"pat-ajax-success.pat-inject\");\n        $el.off(\"pat-ajax-error.pat-inject\");\n\n        if (error_page) {\n            const error_zone = document.querySelector(error_page_fragment || \"body\");\n            error_zone.innerHTML = error_page.innerHTML;\n            registry.scan(error_zone); // initialize any patterns in error page\n        } else {\n            const msg_attr = `${explanation} Status is ${status} ${event.jqxhr.statusText}, time was ${timestamp}. You can click to close this.`;\n            $(\"body\").attr(\"data-error-message\", msg_attr);\n            $(\"body\").on(\"click\", () => {\n                $(\"body\").removeAttr(\"data-error-message\");\n                window.location.href = window.location.href; // reload\n            });\n        }\n    },\n\n    execute(cfgs, $el) {\n        /* Actually execute the injection.\n         *\n         * Either by making an ajax request or by spoofing an ajax\n         * request when the content is readily available in the current page.\n         */\n        // get a kinda deep copy, we scribble on it\n        cfgs = cfgs.map((cfg) => $.extend({}, cfg));\n        if (!this.verifyConfig(cfgs)) {\n            return;\n        }\n        if (!this.askForConfirmation(cfgs)) {\n            return;\n        }\n        if ($el.data(\"pat-inject-triggered\")) {\n            // Prevent double triggers;\n            return;\n        }\n        $el.data(\"pat-inject-triggered\", true);\n\n        for (const cfg of cfgs) {\n            // Add a execute class on the pat-inject element.\n            if (cfg?.executingClass) {\n                $el[0].classList.add(cfg.executingClass);\n            }\n            // Add a loading class to the target.\n            // Can be used for loading-spinners.\n            if (cfg?.loadingClass && cfg?.target !== \"none\") {\n                cfg.$target.addClass(cfg.loadingClass);\n            }\n        }\n\n        $el.on(\n            \"pat-ajax-success.pat-inject\",\n            this._onInjectSuccess.bind(this, $el, cfgs)\n        );\n        $el.on(\"pat-ajax-error.pat-inject\", this._onInjectError.bind(this, $el, cfgs));\n        $el.on(\"pat-ajax-success.pat-inject pat-ajax-error.pat-inject\", () =>\n            $el.removeData(\"pat-inject-triggered\")\n        );\n\n        // Prevent closing the panel while injection is in progress.\n        let do_close_panel = false;\n        events.add_event_listener(\n            $el[0],\n            \"close-panel\",\n            \"pat-inject--close-panel\",\n            (e) => {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                do_close_panel = true;\n            }\n        );\n        $el.on(\"pat-ajax-success.pat-inject\", async () => {\n            // Wait for the next tick to ensure that the close-panel listener\n            // is called before this one, even for non-async local injects.\n            await utils.timeout(1);\n            // Remove the close-panel event listener.\n            events.remove_event_listener($el[0], \"pat-inject--close-panel\");\n            // Only close the panel if a close-panel event was catched previously.\n            if (do_close_panel) {\n                do_close_panel = false;\n                // Re-trigger close-panel event if it was caught while injection was in progress.\n                $el[0].dispatchEvent(\n                    new Event(\"close-panel\", { bubbles: true, cancelable: true })\n                );\n            }\n        });\n\n        if (cfgs[0].url.length) {\n            ajax.request($el, {\n                \"url\": cfgs[0].url,\n                \"browser-cache\": cfgs[0].browserCache,\n            });\n        } else {\n            // If there is no url specified, then content is being fetched\n            // from the same page.\n            // No need to do an ajax request for this, so we spoof the ajax\n            // event.\n            $el.trigger({\n                type: \"pat-ajax-success\",\n                jqxhr: {\n                    responseText: $(\"body\").html(),\n                },\n            });\n        }\n    },\n\n    _inject(trigger, $source, $target, cfg) {\n        // action to jquery method mapping, except for \"content\"\n        // and \"element\"\n        const method = {\n            contentbefore: \"prepend\",\n            contentafter: \"append\",\n            elementbefore: \"before\",\n            elementafter: \"after\",\n        }[cfg.action];\n\n        if (cfg.source === \"none\") {\n            $target.replaceWith(\"\");\n            return true;\n        }\n        if ($source.length === 0) {\n            log.warn(\"Aborting injection, source not found:\", $source);\n            $(trigger).trigger(\"pat-inject-missingSource\", {\n                url: cfg.url,\n                selector: cfg.source,\n            });\n            return false;\n        }\n        if (cfg.target === \"none\")\n            // Special case. Don't do anything, we don't want any result\n            return true;\n        if ($target.length === 0) {\n            log.warn(\"Aborting injection, target not found:\", $target);\n            $(trigger).trigger(\"pat-inject-missingTarget\", {\n                selector: cfg.target,\n            });\n            return false;\n        }\n        if (cfg.action === \"content\") {\n            $target.empty().append($source);\n        } else if (cfg.action === \"element\") {\n            $target.replaceWith($source);\n        } else {\n            $target[method]($source);\n        }\n        return true;\n    },\n\n    _sourcesFromHtml(html, url, sources) {\n        const $html = this._parseRawHtml(html, url);\n        return sources.map((source) => {\n            if (source === \"body\") {\n                source = \"#__original_body\";\n            }\n            if (source === \"none\") {\n                return $(\"<!-- -->\");\n            }\n            const $source = $html.find(source);\n\n            if ($source.length === 0) {\n                if (source != \"title\") {\n                    log.warn(\"No source elements for selector:\", source, $html);\n                }\n            }\n\n            $source.find('a[href^=\"#\"]').each((idx, el_) => {\n                const href = el_.getAttribute(\"href\");\n                if (href.indexOf(\"#{1}\") !== -1) {\n                    // We ignore hrefs containing #{1} because they're not\n                    // valid and only applicable in the context of\n                    // pat-clone.\n                    return;\n                }\n                // Skip in-document links pointing to an id that is inside\n                // this fragment.\n                if (href.length === 1) {\n                    // Special case for top-of-page links\n                    el_.href = url;\n                } else if (!$source.find(href).length) {\n                    el_.href = url + href;\n                }\n            });\n            return $source;\n        });\n    },\n\n    _rebaseAttrs: {\n        A: \"href\",\n        FORM: \"action\",\n        IMG: \"data-pat-inject-rebase-src\",\n        OBJECT: \"data\",\n        SOURCE: \"data-pat-inject-rebase-src\",\n        VIDEO: \"data-pat-inject-rebase-src\",\n    },\n\n    _rebaseOptions: {\n        \"calendar\": [\"url\", \"event-sources\"],\n        \"collapsible\": [\"load-content\"],\n        \"date-picker\": [\"i18n\"],\n        \"datetime-picker\": [\"i18n\"],\n        \"inject\": [\"url\"],\n    },\n\n    _rebaseURL(base, url) {\n        if (url.indexOf(\"://\") !== -1 || url[0] === \"/\" || url.indexOf(\"data:\") === 0) {\n            return url;\n        }\n        base = new URL(base, window.location).href; // If base is relative make it absolute.\n        return base.slice(0, base.lastIndexOf(\"/\") + 1) + url;\n    },\n\n    _rebaseHTML(base, html) {\n        if (html === \"\") {\n            // Special case, source is none\n            return \"\";\n        }\n        const $page = $(\n            html.replace(/(\\s)(src\\s*)=/gi, '$1src=\"\" data-pat-inject-rebase-$2=').trim()\n        )\n            .wrapAll(\"<div>\")\n            .parent();\n\n        $page.find(Object.keys(this._rebaseAttrs).join(\",\")).each((idx, el_) => {\n            const $el_ = $(el_);\n            const attrName = this._rebaseAttrs[el_.tagName];\n            let value = $el_.attr(attrName);\n\n            if (\n                value &&\n                value.slice(0, 2) !== \"@@\" &&\n                value[0] !== \"#\" &&\n                value.slice(0, 7) !== \"mailto:\" &&\n                value.slice(0, 4) !== \"tel:\" &&\n                value.slice(0, 4) !== \"fax:\" &&\n                value.slice(0, 7) !== \"callto:\" &&\n                value.slice(0, 10) !== \"ts3server:\" &&\n                value.slice(0, 6) !== \"teams:\" &&\n                value.slice(0, 11) !== \"javascript:\"\n            ) {\n                value = this._rebaseURL(base, value);\n                $el_.attr(attrName, value);\n            }\n        });\n\n        for (const [pattern_name, opts] of Object.entries(this._rebaseOptions)) {\n            for (const el_ of dom.querySelectorAllAndMe(\n                $page[0],\n                `[data-pat-${pattern_name}]`\n            )) {\n                const pattern = registry.patterns?.[pattern_name];\n                const pattern_parser = pattern?.parser;\n                if (!pattern_parser) {\n                    continue;\n                }\n                // parse: no default options, possibly multiple configs, no grouping.\n                const options = pattern_parser.parse(el_, {}, true, false, false);\n                let changed = false;\n                for (const config of options) {\n                    for (const opt of opts) {\n                        const val = config[opt];\n                        if (!val) {\n                            continue;\n                        }\n                        changed = true;\n                        if (Array.isArray(val)) {\n                            config[opt] = val.map((it) => this._rebaseURL(base, it));\n                        } else {\n                            config[opt] = this._rebaseURL(base, val);\n                        }\n                    }\n                }\n                if (changed) {\n                    el_.setAttribute(\n                        `data-pat-${pattern_name}`,\n                        JSON.stringify(options.length === 1 ? options[0] : options)\n                    );\n                }\n            }\n        }\n\n        return $page\n            .html()\n            .replace(/src=\"\" data-pat-inject-rebase-/g, \"\")\n            .trim();\n    },\n\n    _parseRawHtml(html, url = \"\") {\n        // remove script tags and head and replace body by a div\n        const title = html.match(/\\<title\\>(.*)\\<\\/title\\>/);\n        let clean_html = html\n            .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, \"\")\n            .replace(/<head\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/head>/gi, \"\")\n            .replace(/<body([^>]*?)>/gi, '<div id=\"__original_body\">')\n            .replace(/<\\/body([^>]*?)>/gi, \"</div>\");\n        if (title && title.length == 2) {\n            clean_html = title[0] + clean_html;\n        }\n        try {\n            clean_html = this._rebaseHTML(url, clean_html);\n        } catch (e) {\n            log.error(\"Error rebasing urls\", e);\n        }\n        const $html = $(\"<div/>\").html(clean_html);\n        if ($html.children().length === 0) {\n            log.warn(\"Parsing html resulted in empty jquery object:\", clean_html);\n        }\n        return $html;\n    },\n\n    _initAutoloadVisible($el, cfgs) {\n        if ($el.data(\"pat-inject-autoloaded\")) {\n            // ignore executed autoloads\n            return false;\n        }\n\n        const el = $el[0];\n\n        // delay: default is 200ms to allow scrolling over and past autoload-visible elements without loading them.\n        const delay = cfgs[0].delay || 200;\n        log.debug(`Delay time: ${delay}`);\n\n        // function to trigger the autoload and mark as triggered\n        const trigger = (event) => {\n            if ($el.data(\"pat-inject-autoloaded\")) {\n                log.debug(`autoload-visible trigger skipped ${el}`);\n                return false;\n            }\n            $el.data(\"pat-inject-autoloaded\", true);\n            this.onTrigger({ currentTarget: el });\n            event && event.preventDefault();\n            log.debug(`autoload-visible trigger run ${el}`);\n            return true;\n        };\n\n        // Config see: https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n        const intersection_observer_config = {\n            threshold: 0, // If even one pixel is visible, the callback will be run.\n            root: null, // Root is browser viewport. If the element is visible to the user, the callback will be run.\n            margin: \"0px\", // No margins. The element is not preloaded.\n        };\n\n        let timeout_id = null;\n        const observer = new IntersectionObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.isIntersecting) {\n                    // Run the callback after 200ms to prevent loading all\n                    // visible elements when scrolling over.\n                    timeout_id = window.setTimeout(() => {\n                        observer.disconnect(); // Stop observing loaded elements.\n                        trigger();\n                    }, delay);\n                    log.debug(`autoload-visible intersecting ${el}`);\n                } else {\n                    window.clearTimeout(timeout_id);\n                    log.debug(`autoload-visible not intersecting ${el}`);\n                }\n            }\n        }, intersection_observer_config);\n        observer.observe(el);\n    },\n\n    _initIdleTrigger($el, delay) {\n        // XXX TODO: handle item removed from DOM\n        const timeout = parseInt(delay, 10);\n        let timer;\n\n        const onTimeout = () => {\n            this.onTrigger({ currentTarget: $el[0] });\n            unsub();\n            clearTimeout(timer);\n        };\n\n        const onInteraction = utils.debounce(() => {\n            if (!document.body.contains($el[0])) {\n                unsub();\n                return;\n            }\n            clearTimeout(timer);\n            timer = setTimeout(onTimeout, timeout);\n        }, timeout);\n\n        const unsub = () => {\n            [\"scroll\", \"resize\"].forEach((e) =>\n                window.removeEventListener(e, onInteraction)\n            );\n            [\n                \"click\",\n                \"keypress\",\n                \"keyup\",\n                \"mousemove\",\n                \"touchstart\",\n                \"touchend\",\n            ].forEach((e) => document.removeEventListener(e, onInteraction));\n        };\n\n        onInteraction();\n\n        [\"scroll\", \"resize\"].forEach((e) => window.addEventListener(e, onInteraction));\n        [\"click\", \"keypress\", \"keyup\", \"mousemove\", \"touchstart\", \"touchend\"].forEach(\n            (e) => document.addEventListener(e, onInteraction)\n        );\n    },\n\n    // XXX: simple so far to see what the team thinks of the idea\n    registerTypeHandler(type, handler) {\n        this.handlers[type] = handler;\n    },\n\n    async callTypeHandler(type, fn, context, params) {\n        type = type || \"html\";\n        if (this.handlers[type] && $.isFunction(this.handlers[type][fn])) {\n            return await this.handlers[type][fn].bind(this)(...params);\n        } else {\n            return null;\n        }\n    },\n\n    handlers: {\n        html: {\n            sources(cfgs, data) {\n                const sources = cfgs.map((cfg) => cfg.source);\n                sources.push(\"title\");\n                return this._sourcesFromHtml(data, cfgs[0].url, sources);\n            },\n        },\n    },\n};\n\n$(document).on(\"patterns-injected.inject\", async (ev, cfg, trigger, injected) => {\n    /* Listen for the patterns-injected event.\n     *\n     * Remove the \"loading-class\" classes from all injection targets and\n     * then scan the injected content for new patterns.\n     */\n    if (cfg && cfg.skipPatInjectHandler) {\n        // Allow skipping this handler but still have other handlers in other\n        // patterns listen to ``patterns-injected``.\n        return;\n    }\n    if (cfg) {\n        cfg.$target.removeClass(cfg.loadingClass);\n        // Remove the executing class, add the executed class to the element with pat.inject on it.\n        $(trigger).removeClass(cfg.executingClass).addClass(cfg.executedClass);\n    }\n    if (injected.nodeType !== TEXT_NODE && injected.nodeType !== COMMENT_NODE) {\n        registry.scan(injected, null, { type: \"injection\", element: trigger });\n        $(injected).trigger(\"patterns-injected-scanned\");\n\n        await utils.timeout(10); // Wait a bit before dispatching next event.\n        injected.dispatchEvent(\n            new CustomEvent(\"patterns-injected-delayed\", {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    injected: injected,\n                },\n            })\n        );\n    }\n});\n\n$(window).on(\"popstate\", (event) => {\n    // popstate also triggers on traditional anchors\n    if (!event.originalEvent.state && \"replaceState\" in history) {\n        try {\n            history.replaceState(\"anchor\", \"\", document.location.href);\n        } catch (e) {\n            log.debug(e);\n        }\n        return;\n    }\n    // Not only change the URL, also reload the page.\n    window.location.reload();\n});\n\n// this entry ensures that the initally loaded page can be reached with\n// the back button\nif (\"replaceState\" in history) {\n    try {\n        history.replaceState(\"pageload\", \"\", document.location.href);\n    } catch (e) {\n        log.debug(e);\n    }\n}\n\nregistry.register(inject);\nexport default inject;\n","import $ from \"jquery\";\nimport \"../../core/jquery-ext\";\nimport { BasePattern } from \"../../core/basepattern\";\nimport inject from \"../inject/inject\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport store from \"../../core/store\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.collapsible\");\n\nexport const parser = new Parser(\"collapsible\");\nparser.addArgument(\"load-content\");\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\nparser.addArgument(\"transition\", \"slide\", [\n    \"none\",\n    \"css\",\n    \"fade\",\n    \"slide\",\n    \"slide-horizontal\",\n]);\nparser.addArgument(\"effect-duration\", \"fast\");\nparser.addArgument(\"effect-easing\", \"swing\");\nparser.addArgument(\"closed\", false);\nparser.addArgument(\"trigger\", \"::first\");\nparser.addArgument(\"close-trigger\");\nparser.addArgument(\"open-trigger\");\n// pat-scroll support\nparser.addArgument(\"scroll-selector\");\nparser.addArgument(\"scroll-offset\", 0);\n\nconst debounce_scroll_timer = { timer: null };\n\nclass Pattern extends BasePattern {\n    static name = \"collapsible\";\n    static trigger = \".pat-collapsible\";\n    static parser = parser;\n\n    transitions = {\n        \"none\": { closed: \"hide\", open: \"show\" },\n        \"fade\": { closed: \"fadeOut\", open: \"fadeIn\" },\n        \"slide\": { closed: \"slideUp\", open: \"slideDown\" },\n        \"slide-horizontal\": { closed: \"slideOut\", open: \"slideIn\" },\n    };\n\n    init() {\n        const $el = (this.$el = $(this.el));\n\n        let $content;\n\n        if (this.options.trigger === \"::first\") {\n            this.$trigger = $el.children(\":first\");\n            $content = $el.children(\":gt(0)\");\n        } else {\n            this.$trigger = $(this.options.trigger);\n            $content = $el.children();\n        }\n        if (this.$trigger.length === 0) {\n            log.error(\"Collapsible has no trigger.\", $el[0]);\n            return;\n        }\n\n        this.$panel = $el.children(\".panel-content\");\n        if (this.$panel.length === 0) {\n            if ($content.length) {\n                this.$panel = $content.wrapAll(\"<div class='panel-content' />\").parent();\n            } else {\n                this.$panel = $(\"<div class='panel-content' />\").insertAfter(\n                    this.$trigger\n                );\n            }\n        }\n\n        let state = this.options.closed || $el.hasClass(\"closed\") ? \"closed\" : \"open\";\n        if (this.options.store !== \"none\") {\n            const storage = (\n                this.options.store === \"local\" ? store.local : store.session\n            )(this.name);\n            state = storage.get($el.attr(\"id\")) || state;\n        }\n\n        if (state === \"closed\") {\n            this.$trigger.removeClass(\"collapsible-open\").addClass(\"collapsible-closed\");\n            $el.removeClass(\"open\").addClass(\"closed\");\n            this.$panel.hide();\n        } else {\n            if (this.options.loadContent)\n                this._loadContent($el, this.options.loadContent, this.$panel);\n            this.$trigger.removeClass(\"collapsible-closed\").addClass(\"collapsible-open\");\n            $el.removeClass(\"closed\").addClass(\"open\");\n            this.$panel.show();\n        }\n\n        this.$trigger\n            .off(\".pat-collapsible\")\n            .on(\"click.pat-collapsible\", null, $el, this._onClick.bind(this))\n            .on(\"keypress.pat-collapsible\", null, $el, this._onKeyPress.bind(this));\n\n        if (this.options.closeTrigger) {\n            $(document).on(\"click\", this.options.closeTrigger, this.close.bind(this));\n        }\n        if (this.options.openTrigger) {\n            $(document).on(\"click\", this.options.openTrigger, this.open.bind(this));\n        }\n\n        this.debounce_scroll = utils.debounce(\n            () => this._scroll(),\n            10,\n            debounce_scroll_timer\n        ); // scroll debouncer for later use.\n\n        return $el;\n    }\n\n    open() {\n        if (!this.$el.hasClass(\"open\")) this.toggle();\n        return this.$el;\n    }\n\n    close() {\n        if (!this.$el.hasClass(\"closed\")) this.toggle();\n        return this.$el;\n    }\n\n    _onClick(event) {\n        this.toggle(event.data);\n    }\n\n    _onKeyPress(event) {\n        const keycode = event.keyCode ? event.keyCode : event.which;\n        if (keycode === 13) this.toggle();\n    }\n\n    _loadContent($el, url, $target) {\n        const components = url.split(\"#\");\n        const base_url = components[0];\n        const id = components[1] ? \"#\" + components[1] : \"body\";\n        const opts = [\n            {\n                url: base_url,\n                source: id,\n                $target: $target,\n                dataType: \"html\",\n            },\n        ];\n        inject.execute(opts, $el);\n    }\n\n    // jQuery method to force loading of content.\n    loadContent($el) {\n        return $el.each(\n            function (idx, el) {\n                if (this.options.loadContent)\n                    this._loadContent($(el), this.options.loadContent, this.$panel);\n            }.bind(this)\n        );\n    }\n\n    toggle() {\n        const new_state = this.$el.hasClass(\"closed\") ? \"open\" : \"closed\";\n        if (this.options.store !== \"none\") {\n            const storage = (\n                this.options.store === \"local\" ? store.local : store.session\n            )(this.name);\n            storage.set(this.$el.attr(\"id\"), new_state);\n        }\n        if (new_state === \"open\") {\n            this.$el.trigger(\"patterns-collapsible-open\");\n            this._transit(this.$el, \"closed\", \"open\");\n            this.debounce_scroll();\n        } else {\n            this.$el.trigger(\"patterns-collapsible-close\");\n            this._transit(this.$el, \"open\", \"closed\");\n        }\n        return this.$el; // allow chaining\n    }\n\n    async _scroll() {\n        const scroll_selector = this.options.scroll?.selector;\n        if (scroll_selector) {\n            const pat_scroll = (await import(\"../scroll/scroll\")).default;\n            const scroll = new pat_scroll(this.el, {\n                trigger: \"manual\",\n                selector: scroll_selector,\n                offset: this.options.scroll?.offset,\n            });\n            await scroll.smoothScroll();\n        }\n    }\n\n    async _transit($el, from_cls, to_cls) {\n        if (to_cls === \"open\" && this.options.loadContent) {\n            this._loadContent($el, this.options.loadContent, this.$panel);\n        }\n        const duration =\n            this.options.transition === \"css\" || this.options.transition === \"none\"\n                ? null\n                : this.options.effect.duration;\n        if (!duration) {\n            this.$trigger\n                .removeClass(\"collapsible-\" + from_cls)\n                .addClass(\"collapsible-\" + to_cls);\n            $el.removeClass(from_cls).addClass(to_cls).trigger(\"pat-update\", {\n                pattern: \"collapsible\",\n                action: \"attribute-changed\",\n                dom: $el[0],\n                transition: \"complete\",\n            });\n        } else {\n            const t = this.transitions[this.options.transition];\n            $el.addClass(\"in-progress\").trigger(\"pat-update\", {\n                pattern: \"collapsible\",\n                action: \"attribute-changed\",\n                dom: $el[0],\n                transition: \"start\",\n            });\n            this.$trigger.addClass(\"collapsible-in-progress\");\n            await this.$panel[t[to_cls]](\n                duration,\n                this.options.effect.easing,\n                function () {\n                    this.$trigger\n                        .removeClass(\"collapsible-\" + from_cls)\n                        .removeClass(\"collapsible-in-progress\")\n                        .addClass(\"collapsible-\" + to_cls);\n                    $el.removeClass(from_cls)\n                        .removeClass(\"in-progress\")\n                        .addClass(to_cls)\n                        .trigger(\"pat-update\", {\n                            pattern: \"collapsible\",\n                            action: \"attribute-changed\",\n                            dom: $el[0],\n                            transition: \"complete\",\n                        });\n                }.bind(this)\n            ).promise();\n        }\n    }\n}\n\nregistry.register(Pattern);\n\nexport default Pattern;\nexport { Pattern };\n","// pat-gallery - A gallery pattern.\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.gallery\");\n\nexport const parser = new Parser(\"gallery\");\nparser.addArgument(\"item-selector\", \"a\"); // selector for anchor element, which is added to the gallery.\nparser.addArgument(\"loop\", true);\nparser.addArgument(\"scale-method\", \"fit\", [\"fit\", \"fitNoUpscale\", \"zoom\"]);\nparser.addArgument(\"delay\", 30000);\nparser.addArgument(\"effect-duration\", 250);\n\nlet PhotoSwipe;\nlet PhotoSwipeUI;\n\nexport default Base.extend({\n    name: \"gallery\",\n    trigger: \".pat-gallery\",\n    orig_body_overflow: \"auto\",\n\n    images: [],\n\n    async init() {\n        if (window.__patternslib_import_styles) {\n            import(\"photoswipe/dist/photoswipe.css\");\n            import(\"photoswipe/dist/default-skin/default-skin.css\");\n        }\n        PhotoSwipe = (await import(\"photoswipe\")).default;\n        PhotoSwipeUI = (await import(\"photoswipe/dist/photoswipe-ui-default\")).default; // prettier-ignore\n\n        this.options = parser.parse(this.el, this.options);\n\n        this.template = await this.get_template();\n\n        const gallery_observer = new MutationObserver(\n            this.initialize_trigger.bind(this)\n        );\n        gallery_observer.observe(this.el, {\n            subtree: true,\n            childList: true,\n        });\n\n        this.initialize_trigger();\n    },\n\n    async get_template() {\n        // Check for already defined templates.\n        let template = document.querySelector(\n            \".pat-gallery__template-wrapper, #photoswipe-template\"\n        );\n        // Otherwise, use default template.\n        if (!template) {\n            const raw_template = (await import(\"./template.html\")).default;\n            template = document.createElement(\"div\");\n            template.setAttribute(\"class\", \"pat-gallery__template-wrapper\");\n            template.setAttribute(\"hidden\", \"\");\n            template.innerHTML = raw_template;\n            document.body.appendChild(template);\n        }\n        return template;\n    },\n\n    initialize_trigger() {\n        const image_wrapper_els = dom.querySelectorAllAndMe(\n            this.el,\n            this.options.itemSelector\n        );\n        this.images = [...image_wrapper_els].map((it) => {\n            events.add_event_listener(\n                it,\n                \"click\",\n                \"pat-gallery--image_handler\",\n                this.initialize_gallery.bind(this)\n            );\n\n            const src =\n                it.getAttribute(\"href\") ||\n                it.getAttribute(\"src\") ||\n                it.querySelector(\"img\")?.getAttribute(\"src\");\n            const title =\n                it.getAttribute(\"title\") ||\n                it.querySelector(\"img\")?.getAttribute(\"title\");\n\n            return {\n                w: 0,\n                h: 0,\n                src: src,\n                title: title,\n            };\n        });\n    },\n\n    initialize_gallery(e) {\n        const trigger_el = e.currentTarget;\n\n        this.template.removeAttribute(\"hidden\");\n\n        const pswp_el = dom.querySelectorAllAndMe(this.template, \".pswp\")?.[0];\n        if (!pswp_el) {\n            log.warn(\"No photoswipe template found.\");\n        }\n\n        // Now - when all is set - prevent default action.\n        e.preventDefault();\n\n        const index =\n            this.images\n                .map((it) => it.src)\n                .indexOf(\n                    trigger_el.getAttribute(\"href\") || trigger_el.getAttribute(\"src\")\n                ) || 0;\n\n        const options = {\n            // Get the index of the clicked gallery item in the list of images.\n            index: index,\n            scaleMode: this.options.scaleMethod,\n            loop: this.options.loop,\n            slideshowDelay: this.options.delay,\n            hideAnimationDuration: this.options.effectDuration,\n            showAnimationDuration: this.options.effectDuration,\n            pinchToClose: false,\n            closeOnScroll: false,\n            // Fix reload on gallery close which was induced by a history back call.\n            history: false,\n        };\n\n        const gallery = new PhotoSwipe(pswp_el, PhotoSwipeUI, this.images, options);\n\n        const gallery_reinit_sizes_debouncer = utils.debounce(() => {\n            gallery.updateSize(true); // reinit Items\n        }, 50);\n\n        gallery.listen(\"gettingData\", function (index, item) {\n            // Workaround for the fact that we don't know the image sizes.\n            // https://github.com/dimsemenov/PhotoSwipe/issues/796\n            if (item.w < 1 || item.h < 1) {\n                // unknown size\n                const img = new Image();\n                img.onload = (_e) => {\n                    const img_el = _e.target;\n                    // will get size after load\n                    item.w = img_el.width; // set image width\n                    item.h = img_el.height; // set image height\n                    item.needsUpdate = true;\n                    gallery_reinit_sizes_debouncer(); // debounce to not land in a re-init loop.\n                };\n                img.src = item.src; // let's download image\n            }\n        });\n\n        gallery.listen(\"initialZoomInEnd\", () => {\n            // don't show body scrollbars when overlay is open\n            this.orig_body_overflow = dom.get_css_value(document.body, \"overflow\");\n            document.body.style.overflow = \"hidden\";\n        });\n\n        gallery.listen(\"destroy\", () => {\n            // show original overlay value on body after closing\n            document.body.style.overflow = this.orig_body_overflow;\n            this.template.setAttribute(\"hidden\", \"\");\n        });\n\n        gallery.init();\n    },\n});\n","// Patterns switch - toggle classes on click\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport store from \"../../core/store\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.switch\");\n\nexport const parser = new Parser(\"switch\");\nparser.addArgument(\"selector\");\nparser.addArgument(\"remove\");\nparser.addArgument(\"add\");\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\n\nexport default Base.extend({\n    name: \"switch\",\n    trigger: \".pat-switch\",\n\n    init() {\n        this.options = this._validateOptions(parser.parse(this.el, this.options, true));\n\n        events.add_event_listener(this.el, \"click\", \"pat-switch--on-click\", (e) => {\n            // TODO: e.target.tagName\n            if (e.tagName === \"A\") {\n                e.preventDefault();\n            }\n            this._go();\n        });\n\n        for (const option of this.options) {\n            if (option.store !== \"none\") {\n                option._storage = (\n                    option.store === \"local\" ? store.local : store.session\n                )(\"switch\");\n                const state = option._storage.get(option.selector);\n                if (state && state.remove === option.remove && state.add === option.add)\n                    this._update(option.selector, state.remove, state.add);\n            }\n        }\n    },\n\n    destroy() {\n        events.remove_event_listener(this.el, \"pat-switch--on-click\");\n    },\n\n    execute() {\n        // jQuery API to toggle a switch\n        this._go();\n    },\n\n    _go() {\n        for (const option of this.options) {\n            this._update(option.selector, option.remove, option.add);\n            if (option._storage)\n                option._storage.set(option.selector, {\n                    remove: option.remove,\n                    add: option.add,\n                });\n        }\n        $(this.el).trigger(\"resize\"); // See: https://github.com/Patternslib/Patterns/pull/539\n    },\n\n    _validateOptions: function (options) {\n        var correct = [];\n\n        let logged_error = false;\n        for (var i = 0; i < options.length; i++) {\n            var option = options[i];\n            if (option.selector && (option.remove || option.add)) {\n                correct.push(option);\n            } else {\n                log.error(\n                    \"Switch pattern requires selector and one of add or remove.\",\n                    this.el\n                );\n                logged_error = true;\n            }\n        }\n\n        if (!correct.length && !logged_error) {\n            log.error(\"Switch without options cannot be initialized.\", this.el);\n        }\n\n        return correct;\n    },\n\n    _update: function (selector, remove, add) {\n        const targets = document.querySelectorAll(selector);\n        for (const target of targets) {\n            if (remove) {\n                utils.removeWildcardClass(target, remove);\n            }\n\n            if (add) {\n                target.classList.add(add);\n            }\n\n            $(target).trigger(\"pat-update\", {\n                pattern: \"switch\",\n                action: \"attribute-changed\",\n                dom: target,\n            });\n        }\n    },\n});\n","/**\n * Patterns toggle - toggle class on click\n *\n * Copyright 2012-2014 Simplon B.V. - Wichert Akkerman\n */\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport store from \"../../core/store\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.toggle\");\n\nexport const parser = new Parser(\"toggle\");\nparser.addArgument(\"selector\");\nparser.addArgument(\"event\");\nparser.addArgument(\"attr\", \"class\");\nparser.addArgument(\"value\");\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\n\nparser.addAlias(\"attribute\", \"attr\");\n\nexport function ClassToggler(values) {\n    this.values = values.slice(0);\n    if (this.values.length > 1) this.values.push(values[0]);\n}\n\nClassToggler.prototype = {\n    toggle(el) {\n        const current = this.get(el);\n        const next = this.next(current);\n        this.set(el, next);\n        return next;\n    },\n\n    get(el) {\n        const classes = el.className.split(/\\s+/);\n        for (const value of this.values) {\n            if (classes.indexOf(value) !== -1) {\n                return value;\n            }\n        }\n        return null;\n    },\n\n    set(el, value) {\n        const values = this.values;\n        let classes = el.className.split(/\\s+/);\n        classes = classes.filter((it) => it && values.indexOf(it) === -1);\n        if (value) {\n            classes.push(value);\n        }\n        el.className = classes.join(\" \");\n        $(el).trigger(\"pat-update\", {\n            pattern: \"toggle\",\n            action: \"attribute-changed\",\n            dom: el,\n        });\n    },\n\n    next(current) {\n        if (this.values.length === 1) {\n            return current ? null : this.values[0];\n        }\n        for (let i = 0; i < this.values.length - 1; i++) {\n            if (this.values[i] === current) {\n                return this.values[i + 1];\n            }\n        }\n        return this.values[0];\n    },\n};\n\nexport function AttributeToggler(attribute) {\n    this.attribute = attribute;\n}\n\nAttributeToggler.prototype = new ClassToggler([]);\nAttributeToggler.prototype.get = function (el) {\n    return !!el[this.attribute];\n};\n\nAttributeToggler.prototype.set = function (el, value) {\n    if (value) el[this.attribute] = value;\n    else el.removeAttribute(this.attribute);\n};\n\nAttributeToggler.prototype.next = function (value) {\n    return !value;\n};\n\nexport default Base.extend({\n    name: \"toggle\",\n    trigger: \".pat-toggle\",\n\n    init() {\n        const options = this._validateOptions(parser.parse(this.$el, true));\n        this.options = options;\n\n        if (!options.length) {\n            return;\n        }\n\n        let event_name;\n        for (const option of options) {\n            if (option.value_storage) {\n                const victims = $(option.selector);\n                if (!victims.length) {\n                    continue;\n                }\n                const state = option.toggler.get(victims[0]);\n                const last_state = option.value_storage.get();\n                if (state !== last_state && last_state !== null) {\n                    for (const victim of victims) {\n                        option.toggler.set(victim, last_state);\n                    }\n                }\n            }\n            if (option.event) {\n                event_name = option.event;\n            } else {\n                event_name = \"click\";\n            }\n        }\n\n        // Clicking a label of a checkbox would submit two click events - once\n        // for the label, the other for the checkbox.\n        // Using debounce, we prevent double-toggle which would result in\n        // toggling having no effect.\n        this.click_debouncer = utils.debounce(() => {\n            this._onClick();\n        }, 1);\n\n        this.$el\n            .off(\".toggle\")\n            .on(`${event_name || \"click\"}.toggle`, () => this.click_debouncer())\n            .on(\"keypress.toggle\", this._onKeyPress.bind(this));\n    },\n\n    _makeToggler(option) {\n        if (option.attr === \"class\") {\n            let values = option.value.split(/\\s+/);\n            values = values.filter((v) => v.length);\n            return new ClassToggler(values);\n        } else {\n            return new AttributeToggler(option.attr);\n        }\n    },\n\n    _validateOptions(options) {\n        const correct = [];\n\n        if (!options.length) {\n            return correct;\n        }\n\n        for (const [idx, option] of options.entries()) {\n            if (!option.selector) {\n                log.error(\"Toggle pattern requires a selector.\");\n                continue;\n            }\n            if (option.attr !== \"class\" && option.value) {\n                log.warn(\"Values are not supported attributes other than class.\");\n                continue;\n            }\n            if (option.attr === \"class\" && !option.value) {\n                log.error(\"Toggle pattern needs values for class attributes.\");\n                continue;\n            }\n            if (idx && option.store !== \"none\") {\n                log.warn(\"store option can only be set on first argument\");\n                option.store = \"none\";\n            }\n            if (option.store !== \"none\") {\n                if (!this.el.id) {\n                    log.warn(\"state persistance requested, but element has no id\");\n                    option.store = \"none\";\n                } else if (!store.supported) {\n                    log.warn(\n                        \"state persistance requested, but browser does not support webstorage\"\n                    );\n                    option.store = \"none\";\n                } else {\n                    const storage = (\n                        option.store === \"local\" ? store.local : store.session\n                    )(this.name);\n                    option.value_storage = new store.ValueStorage(\n                        storage,\n                        `${this.el.id}-${idx}`\n                    );\n                }\n            }\n            option.toggler = this._makeToggler(option);\n            correct.push(option);\n        }\n        return correct;\n    },\n\n    _onClick() {\n        for (const option of this.options) {\n            const targets = $(option.selector);\n            if (!targets.length) {\n                continue;\n            }\n            const toggler = option.toggler;\n            const next_state = toggler.toggle(targets[0]);\n            for (const target of targets) {\n                toggler.set(target, next_state);\n            }\n            if (option.value_storage) {\n                option.value_storage.set(next_state);\n            }\n        }\n    },\n\n    _onKeyPress(event) {\n        const keycode = event.keyCode ? event.keyCode : event.which;\n        if (keycode === \"13\") {\n            this.$el.trigger(\"click\");\n        }\n    },\n});\n"],"names":["getOptions","$el","patternName","options","length","$","this","parent","elOptions","data","tmpOptions","split","i","item","reverse","key","pop","replace","value","join","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","log","logging","initBasePattern","trigger","jquery","plog","concat","pattern","Registry","parser","mockupParser","e","Base","_ref","_callee","_$el","_context","warn","el","defaults","init","emit","args","arguments","apply","_x","_x2","_x3","on","eventName","eventCallback","one","extend","patternProps","child","jquery_plugin","Surrogate","__super__","autoregister","logger","DATA_PREFIX","DATA_STYLE_DISPLAY","get_css_value","property","as_pixels","as_float","window","getComputedStyle","getPropertyValue","parseFloat","parseInt","Math","round","toNodeArray","nodes","NodeList","_toConsumableArray","Array","querySelectorAllAndMe","selector","all","querySelectorAll","matches","unshift","wrapper","parentNode","insertBefore","appendChild","hide","style","display","show","find_parents","ret","_parent$parentNode","_parent$parentNode$cl","_parent$parentNode2","closest","find_scoped","indexOf","document","get_parents","parents","_parent","HTMLElement","acquire_attribute","attribute","include_empty","include_all","_el","getAttribute","parentElement","is_visible","offsetWidth","offsetHeight","is_input","test","nodeName","create_from_string","string","createRange","createContextualFragment","trim","find_scroll_container","direction","fallback","body","overflow_y","includes","overflow_x","get_data","default_value","set_data","delete_data","template","template_string","template_variables","Function","add_event_listener","events","remove_event_listener","event_listener_map","id","removeEventListener","el_events","entries","_step","_iterator","_createForOfIteratorHelper","s","n","f","event_type","cb","opts","addEventListener","_cb","once","capture","await_event","event_name","await_pattern_init","target","blur_event","Event","bubbles","cancelable","click_event","change_event","focus_event","input_event","mousedown_event","mouseup_event","scroll_event","submit_event","dragstart_event","dragend_event","methods","settings","time","initialTime","exceptionAreas","each","$this","lastEvent","Date","trueTime","untouched","inExceptionArea","mouseMoved","find","live","enteredException","leftException","timeout","addClass","event","destroy","off","remove","removeData","hasClass","removeClass","startTimer","setTimeout","floor","now","diff","scrollable","element","css","clientHeight","scrollHeight","clientWidth","scrollWidth","parent_id","absoluteParent","elemTop","position","top","elemBottom","height","viewTop","scrollTop","viewBottom","docElem","elem","origin","left","nodeType","ownerDocument","documentElement","offsettop","offsetleft","thiswidth","width","pos","safeOffset","setleft","settop","appendTo","$ancestor","$child","childMarginEdgeLeft","childMarginEdgeTop","ancestorPaddingEdgeLeft","ancestorPaddingEdgeTop","addBack","filter","speed","easing","callback","animate","a","m","text","toUpperCase","root","writer","bind","oThis","aArgs","fToBind","fNOP","fBound","Level","DEBUG","INFO","WARN","ERROR","FATAL","ConsoleWriter","Logger","_loggers","_enabled","_level","setWriter","w","output","log_name","level","messages","console","getLogger","path","route","shift","_getFlag","flag","setEnabled","isEnabled","setLevel","getLevel","debug","fatal","match","logconfig","exec","location","search","getWriter","ArgumentParser","_classCallCheck","order","parameters","enum_values","enum_conflicts","groups","possible_groups","group_pattern","json_param_pattern","named_param_pattern","token_pattern","str","__","p1","alias","original","spec","group","field","first_spec","first_name","dest","addArgument","choices","multiple","_camelCase","addGroupToSpec","isArray","choice","_typeof2","JSON","parse","toLowerCase","num","toString","parts","_step2","_iterator2","part","v","_coerce","tokens","quoted","simple","argstring","_step3","_this","_iterator3","map","RegExp","_loop","it","_set","subopt","_parseShorthandNotation","parameter","_split","sense","positional","_parseExtendedNotation","sep","extended","group_options","_i","_Object$keys","_i2","_Object$keys2","_this2","inherit","_step4","stack","_defaults","final_length","_iterator4","provider","frame","attr","_parse","max","results","utils","current_value","_cleanupOptions","add_argument","disable_re","dont_catch_re","disabled","dont_catch","__patternslib_registry","PATTERN_REGISTRY","__patternslib_registry_initialized","registry","patterns","ready","sort","scan","clear","transformPattern","content","_pattern$prototype","transform","initPattern","orderPatterns","splice","querySelector","Text","selectors","dom","_el$parentNode","_el$parentNode$closes","_el$parentNode2","_el$parentNode2$close","_el$parentNode3","_el$parentNode3$close","_el$parentNode4","_el$parentNode4$close","classList","add","register","plugin_name","Storage","backend","prefix","ValueStorage","store","_key","_allKeys","prefix_length","get","getItem","_unused","set","setItem","stringify","removeItem","supported","local","localStorage","session","sessionStorage","updateOptions","clone","thisArg","T","k","O","len","kValue","singleBoundJQueryPlugin","pat","pluralBoundJQueryPlugin","isObject","jqueryPlugin","escapeRegExp","source","prop","findLabel","input","$label","label","tagName","form","elementInViewport","rect","getBoundingClientRect","docEl","vWidth","innerWidth","vHeight","innerHeight","right","bottom","removeWildcardClass","targets","classes","ensureArray","matcher","class_list","ok","setAttribute","removeAttribute","hideOrShow","visible","pattern_name","transitions","none","fade","slide","duration","transition","effect","on_complete","action","t","addURLQueryParameter","fullURL","param","url","hash","newURL","removeDuplicateObjects","objs","comparator","reduce","list","next_obj","is_duplicate","mergeStack","_step5","_iterator5","frame_length","x","isElementInViewport","partial","offset","rec","every","hasValue","checked","selectedIndex","parseTime","amount","findRelatives","$relatives","$form","get_bounds","bounds","y","checkInputSupport","invalid_value","support","createElement","checkCSSFeature","tag","animation_frame","requestAnimationFrame","ms","debounce","func","timer","clearTimeout","isIE","documentMode","jqToNode","force_array","isPrototypeOf","localized_isodate","date","day","getDate","padStart","month","getMonth","year","getFullYear","escape_html","html","createTextNode","innerHTML","unescape_html","escaped_html","DOMParser","parseFromString","textContent","is_iso_date_time","is_iso_date","date_diff","date_1","date_2","utc_1","UTC","utc_2","getCSSValue","_asyncToGenerator","_defineProperties","props","descriptor","_toPropertyKey","_defineProperty","hint","prim","toPrimitive","res","String","Number","_toPrimitive","BasePattern","instance","Constructor","_this$parser$parse","_this$parser","dispatchEvent","protoProps","staticProps","_init","_callee2","_context2","event_callback","Parser","is","xhrCount","_","onTriggerEvents","onClickSubmit","preventDefault","request","_request","cfg","seqNumber","inc","temp","clickedData","serialize","Boolean","headers","cache","browserCache","accept","Accept","formdata","FormData","append","ajax_deferred","status","jqxhr","fail","o","allowArrayLike","_unsupportedIterableToArray","F","_e2","normalCompletion","didErr","step","_e3","minLen","_arrayLikeToArray","from","arr","arr2","inject","cfgs","extractConfig","some","history","nextHref","href","pushMarker","onTrigger","currentTarget","idleTrigger","_initIdleTrigger","delay","processDelay","ajax","onFormActionSubmit","uid","random","uid_","_initAutoloadVisible","params","serializeArray","execute","$button","formaction","first","$cfg_node","submitSubform","$sub","$context","urlparts","defaultSelector","elementIsDirty","askForConfirmation","message","should_confirm","_confirm","confirm","$target","confirmMessage","ensureTarget","createTarget","$injected","verifySingleConfig","extractModifiers","listenForFormReset","verifyConfig","source_match","target_match","sourceMod","targetMod","targetPosition","loadingClass","_performInjection","$source","title","$src","contents","safeClone","findInclusive","_inject","_update_history","_afterInjection","glue","pushState","idx","el_","scroll","scroll_container","scroll_target","scroll_container_ref","abs","scrollLeft","scrollTo","_onInjectSuccess","ev","_this3","_ev$jqxhr","sources$","responseText","hooks","hook","callTypeHandler","dataType","idx1","perform_inject","idx2","_onInjectError","explanation","timestamp","error_page","error_page_fragment","_document","_document$querySelect","error_page_url","error_page_response","error_zone","msg_attr","URLSearchParams","fetch","t0","executingClass","statusText","removeAttr","do_close_panel","stopPropagation","stopImmediatePropagation","_callee3","_context3","contentbefore","contentafter","elementbefore","elementafter","replaceWith","empty","_sourcesFromHtml","sources","$html","_parseRawHtml","_rebaseAttrs","A","FORM","IMG","OBJECT","SOURCE","VIDEO","_rebaseOptions","_rebaseURL","base","URL","lastIndexOf","_rebaseHTML","_this4","$page","wrapAll","$el_","attrName","_Object$entries","_Object$entries$_i","_slicedToArray","_registry$patterns","pattern_parser","changed","config","opt","clean_html","children","_this5","timeout_id","observer","IntersectionObserver","_step6","_iterator6","isIntersecting","disconnect","threshold","margin","observe","_this6","onTimeout","unsub","onInteraction","contains","registerTypeHandler","handler","handlers","_this7","_callee4","_context4","_ref2","_callee5","injected","_context5","skipPatInjectHandler","executedClass","CustomEvent","detail","_x4","_x5","originalEvent","reload","replaceState","_setPrototypeOf","p","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_assertThisInitialized","_possibleConstructorReturn","ReferenceError","debounce_scroll_timer","Pattern","_BasePattern","subClass","superClass","_inherits","_transit2","_scroll2","_super","_len","closed","open","$content","$trigger","$panel","insertAfter","loadContent","_loadContent","_onClick","_onKeyPress","closeTrigger","close","openTrigger","debounce_scroll","_scroll","toggle","keyCode","which","components","new_state","_transit","_this$options$scroll","scroll_selector","_this$options$scroll2","pat_scroll","smoothScroll","from_cls","to_cls","promise","PhotoSwipe","PhotoSwipeUI","orig_body_overflow","images","__patternslib_import_styles","get_template","MutationObserver","initialize_trigger","subtree","childList","raw_template","image_wrapper_els","itemSelector","_it$querySelector","_it$querySelector2","initialize_gallery","h","src","_dom$querySelectorAll","trigger_el","pswp_el","index","scaleMode","scaleMethod","loop","slideshowDelay","hideAnimationDuration","effectDuration","showAnimationDuration","pinchToClose","closeOnScroll","gallery","gallery_reinit_sizes_debouncer","updateSize","listen","img","Image","onload","_e","img_el","needsUpdate","overflow","_validateOptions","_go","option","_storage","_update","correct","logged_error","ClassToggler","AttributeToggler","addAlias","current","className","value_storage","victims","toggler","last_state","victim","click_debouncer","_makeToggler","_step4$value","storage","next_state"],"sourceRoot":""}